(this.webpackJsonpothello_platform=this.webpackJsonpothello_platform||[]).push([[0],[,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"h",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return p})),n.d(e,"c",(function(){return h})),n.d(e,"l",(function(){return _})),n.d(e,"i",(function(){return m})),n.d(e,"k",(function(){return b})),n.d(e,"j",(function(){return j})),n.d(e,"a",(function(){return f}));var a=n(8),i=n.n(a),r=n(11),o=n(23),s=function(){var t=Object(r.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){var i=new FormData;i.append("username",e),i.append("password",n),fetch(o.server_url+"/admin_login",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:i}).then((function(t){if(t.ok)return t.text();a()})).then((function(e){window.localStorage.setItem("token",e),t(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),c=function(){var t=Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){fetch(o.server_url+"/competition_list",{method:"POST"}).then((function(t){if(t.ok)return t.text();e()})).then((function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(r.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var a=new FormData;a.append("competition_id",e),fetch(o.server_url+"/competition_history",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:a}).then((function(t){if(t.ok)return t.text();n()})).then((function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(r.a)(i.a.mark((function t(e,a,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){var s=new FormData;s.append("competition_id",e),s.append("game_id",a),fetch(o.server_url+"/download_history",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:s}).then((function(t){if(t.ok)return t.blob();i()})).then((function(e){void 0!==e&&(n(199)(e,r,"text/plain"),t())}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),u=function(){var t=Object(r.a)(i.a.mark((function t(e,n,a,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){var s=new FormData;s.append("competition_name",e),s.append("competition_type",n),s.append("time_limit",a),s.append("board_size",r),s.append("Authorization","Bearer "+window.localStorage.getItem("token")),fetch(o.server_url+"/create_competition",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:s}).then((function(e){e.ok?t():i()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,i){return t.apply(this,arguments)}}(),p=function(){var t=Object(r.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var a=new FormData;a.append("competition_name",e),a.append("Authorization","Bearer "+window.localStorage.getItem("token")),fetch(o.server_url+"/delete_competition",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:a}).then((function(e){e.ok?t():n()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(r.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var a=new FormData;a.append("competition_name",e),fetch(o.server_url+"/competition_info",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:a}).then((function(t){if(t.ok)return t.text();n()})).then((function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(r.a)(i.a.mark((function t(e,n,a,r,s,c,l,d,u,p,h,_,m,b){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){var j=new WebSocket(o.wss_url);j.onopen=function(){console.log("open connection"),t(j);var n={action:"join",data:{source:"viewer",competition:e}};j.send(JSON.stringify(n))},j.onmessage=function(t){var e=JSON.parse(t.data);"init"===e.action?n(e.data.status,e.data.player_list,e.data.board,e.data.last_move,e.data.board_end,e.data.time_limit,e.data.stone_count,e.data.win_times,e.data.scoreboard,e.data.game_tree,e.data.player_color):"add_player"===e.action?a(e.data):"remove_player"===e.action?r(e.data):"start"===e.action?s():"update_board"===e.action?c(e.data.game_id,e.data.board,e.data.last_position):"update_time_limit"===e.action?l(e.data.game_id,e.data.black_time_limit,e.data.white_time_limit):"update_stone_count"===e.action?d(e.data.game_id,e.data.black_stone_count,e.data.white_stone_count):"update_win_times"===e.action?u(e.data.game_id,e.data.black_win_times,e.data.white_win_times):"update_score_board"===e.action?p(e.data.scoreboard):"update_tree"===e.action?h(e.data.game_tree):"end_game"===e.action?_(e.data.game_id):"end_competition"===e.action?m():"change_color"===e.action&&b(e.data.game_id,e.data.black,e.data.white)},j.onclose=function(){console.log("close connection")}})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,i,r,o,s,c,l,d,u,p,h,_){return t.apply(this,arguments)}}(),m=function(){var t=Object(r.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){var i=new FormData;i.append("competition",e),i.append("player",n),i.append("Authorization","Bearer "+window.localStorage.getItem("token")),fetch(o.server_url+"/remove_player",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:i}).then((function(e){e.ok?t():a()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var t=Object(r.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var a=new FormData;a.append("competition_name",e),a.append("Authorization","Bearer "+window.localStorage.getItem("token")),fetch(o.server_url+"/start_competition",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:a}).then((function(e){e.ok?t():n()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(r.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){var i=new FormData;i.append("competition_name",e),i.append("game_id",n),i.append("Authorization","Bearer "+window.localStorage.getItem("token")),fetch(o.server_url+"/restart_game",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:i}).then((function(t){if(t.ok)return t.text();a()})).then((function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var t=Object(r.a)(i.a.mark((function t(e,n,a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){var r=new FormData;r.append("competition_name",e),r.append("game_id",n),r.append("winner",a),r.append("Authorization","Bearer "+window.localStorage.getItem("token")),fetch(o.server_url+"/assign_winner",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:r}).then((function(t){if(t.ok)return t.text();i()})).then((function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},,,,,,,,,,,function(t){t.exports=JSON.parse('{"_wss_url":"ws://127.0.0.1:8082","_server_url":"http://127.0.0.1:8082","__wss_url":"ws://10.21.23.46:8080","__server_url":"http://10.21.23.46:8080","wss_url":"ws://163.22.22.143:8082","server_url":"http://163.22.22.143:8082"}')},,,,function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.model_content,a=t.model_footer,i=t.close,r=t.width,o=t.margin_top,s=t.id;return Object(l.jsx)("div",{id:"login-modal",className:"modal-wrapper",onClick:function(t){t.stopPropagation(),i(s)},children:Object(l.jsxs)("div",{className:"modal-body",onClick:function(t){return t.stopPropagation()},style:{width:r,margin:o+" auto",maxWidth:"40rem"},children:[Object(l.jsxs)("header",{children:[Object(l.jsx)("span",{children:e}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[this.props.download&&Object(l.jsx)("span",{onClick:this.props.download_cb,children:Object(l.jsx)("i",{className:"fas fa-download fa-xs"})}),Object(l.jsx)("span",{onClick:function(t){return i(s)},children:"\xd7"})]})]}),Object(l.jsx)("div",{className:"modal-content",children:n}),Object(l.jsx)("div",{className:"modal-footer",children:a})]})})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(t){var i;return Object(a.a)(this,n),(i=e.call(this,t)).state={color:t.buttonColor,color_string:"rgba(".concat(t.buttonColor[0],", ").concat(t.buttonColor[1],", ").concat(t.buttonColor[2],", 0.7)"),text_color_string:"rgb(".concat(t.textColor[0],", ").concat(t.textColor[1],", ").concat(t.textColor[2],")")},i}return Object(i.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.text,a=e.onClick,i=e.processing;return Object(l.jsx)("div",{className:"modal-button",style:{backgroundColor:this.state.color_string},onClick:a,onMouseEnter:function(){t.setState({color_string:"rgba(".concat(t.state.color[0],", ").concat(t.state.color[1],", ").concat(t.state.color[2],", 1.0)")})},onMouseLeave:function(){t.setState({color_string:"rgba(".concat(t.state.color[0],", ").concat(t.state.color[1],", ").concat(t.state.color[2],", 0.7)")})},children:i?Object(l.jsx)("i",{className:"far fa-circle-notch fa-spin"}):Object(l.jsx)("span",{style:{color:this.state.text_color_string},children:n})})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(t){var i;return Object(a.a)(this,n),(i=e.call(this,t)).size=i.props.size,i}return Object(i.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.black,a=e.black_time_limit,i=e.black_stone_count,r=e.black_win_times,o=e.white,s=e.white_time_limit,c=e.white_stone_count,d=e.white_win_times;return Object(l.jsxs)("div",{className:"board",children:[Object(l.jsx)("div",{className:"board-rows",children:Array.from(Array(this.size).keys()).map((function(e,n){return Object(l.jsx)("div",{className:"board-row",children:Array.from(Array(t.size).keys()).map((function(e,a){return Object(l.jsxs)("div",{className:"board-cell",children:[1===t.props.board[n][a]?Object(l.jsx)("div",{className:"black-move"}):-1===t.props.board[n][a]?Object(l.jsx)("div",{className:"white-move"}):null,void 0!==t.props.last_move&&n===t.props.last_move[0]&&a===t.props.last_move[1]?Object(l.jsx)("div",{className:"last-move"}):null]},n+"_"+a)}))},n)}))}),Object(l.jsxs)("div",{className:"board-status",children:[Object(l.jsxs)("div",{children:[n.includes("#")?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:["(",n.split("#")[1],")"]}),Object(l.jsxs)("div",{children:["\u9ed1\uff1a",n.split("#")[0]]})]}):Object(l.jsxs)("div",{children:["\u9ed1\uff1a",n]}),Object(l.jsxs)("div",{children:["\u5269\u9918\u6642\u9593\uff1a",a]}),Object(l.jsxs)("div",{children:["\u6578\u91cf\uff1a",i]}),Object(l.jsxs)("div",{children:["\u52dd\u6578\uff1a",r]})]}),Object(l.jsx)("hr",{style:{width:"100%"}}),Object(l.jsxs)("div",{children:[o.includes("#")?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:["(",o.split("#")[1],")"]}),Object(l.jsxs)("div",{children:["\u767d\uff1a",o.split("#")[0]]})]}):Object(l.jsxs)("div",{children:["\u767d\uff1a",o]}),Object(l.jsxs)("div",{children:["\u5269\u9918\u6642\u9593\uff1a",s]}),Object(l.jsxs)("div",{children:["\u6578\u91cf\uff1a",c]}),Object(l.jsxs)("div",{children:["\u52dd\u6578\uff1a",d]})]})]})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(28),d=n(0),u=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.game_id,n=t.player_a,a=t.player_b,i=t.doAssignWinner;return Object(d.jsxs)("div",{className:"modal-delete-competition-body",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)(l.a,{text:n,onClick:function(){i(e,n)},processing:!1,buttonColor:[240,240,240],textColor:[0,0,0]}),Object(d.jsx)(l.a,{text:a,onClick:function(){i(e,a)},processing:!1,buttonColor:[240,240,240],textColor:[0,0,0]}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(u)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(35),i=n(2),r=n(3),o=n(5),s=n(4),c=n(1),l=n(6),d=n(0),u=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t=this;return Object(d.jsxs)("div",{className:"modal-board-footer",children:[Object(d.jsx)("button",Object(a.a)(Object(a.a)({},0===this.props.history_time[this.props.game_id].time?{disabled:!0}:{}),{},{onClick:function(e){return t.props.loadHistory(t.props.game_id,t.props.history_time[t.props.game_id].time-1)},children:Object(d.jsx)("i",{className:"far far fa-angle-left fa-2x"})})),Object(d.jsx)("div",{children:"\u3000\u3000"}),Object(d.jsx)("button",Object(a.a)(Object(a.a)({},this.props.history_time[this.props.game_id].time===this.props.history_time[this.props.game_id].max?{disabled:!0}:{}),{},{onClick:function(e){return t.props.loadHistory(t.props.game_id,t.props.history_time[t.props.game_id].time+1)},children:Object(d.jsx)("i",{className:"far far fa-angle-right fa-2x"})}))]})}}]),n}(c.Component);e.a=Object(l.hot)(t)(u)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(17),l=n(6),d=n(0),u=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.href,n=t.text;return Object(d.jsx)(c.b,{to:e,children:n})}}]),n}(s.Component);e.a=Object(l.hot)(t)(u)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"widget",children:[Object(l.jsx)("div",{className:"widget-header",children:this.props.header}),Object(l.jsx)("div",{className:"widget-content",children:this.props.content})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(17),d=n(0),u=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(d.jsx)(l.b,{to:this.props.link,children:Object(d.jsx)("div",{className:"side-menu-item",children:Object(d.jsx)("div",{children:this.props.text})})})}}]),n}(s.Component);e.a=Object(c.hot)(t)(u)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(8),i=n.n(a),r=n(11),o=n(2),s=n(3),c=n(5),l=n(4),d=n(1),u=n(17),p=n(6),h=n(27),_=n(173),m=n(12),b=n(28),j=n(174),f=n(0),O=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).generateRandomHash=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<10;n++)e+=t[parseInt(Math.random()*t.length)];return e},t.do_create=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({create_checking:!0}),e.prev=1,e.next=4,Object(m.e)(t.state.competition_name,t.state.competition_type,t.state.time_limit,t.state.board_size);case 4:t.setState({open_create_modal:!1,open_delete_modal:!1,competition_name:t.generateRandomHash(),competition_type:"round-robin",time_limit:15,board_size:8,create_checking:!1,delete_checking:!1}),t.props.updateCompetitionList(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t.setState({create_checking:!1}),alert("create fail");case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),t.do_delete=function(){var e=Object(r.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({delete_checking:!0}),e.prev=1,e.next=4,Object(m.f)(n);case 4:t.setState({open_delete_modal:!1,delete_checking:!1}),t.props.updateCompetitionList(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t.setState({delete_checking:!1}),alert("delete fail");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),t.switch_create_modal=function(){t.setState({open_create_modal:!t.state.open_create_modal,competition_name:t.generateRandomHash()})},t.switch_delete_modal=function(){t.setState({open_delete_modal:!t.state.open_delete_modal})},t.state={open_create_modal:!1,open_delete_modal:!1,competition_name:t.generateRandomHash(),competition_type:"round-robin",time_limit:15,board_size:8,create_checking:!1,delete_checking:!1},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.name,a=e.type,i=e.time_limit;return this.props.create?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"competition-item-create",onClick:this.switch_create_modal,children:Object(f.jsx)("span",{style:{alignSelf:"center"},children:"+"})}),this.state.open_create_modal&&Object(f.jsx)(h.a,{title:"\u5efa\u7acb\u6bd4\u8cfd",model_content:Object(f.jsx)(_.a,{defaultName:this.state.competition_name,defaultType:this.state.competition_type,defaultTimeLimit:this.state.time_limit,defaultBoardSize:this.state.board_size,onChangeName:function(e){return t.setState({competition_name:e})},onChangeType:function(e){return t.setState({competition_type:e})},onChangeTimeLimit:function(e){return t.setState({time_limit:e})},onChangeBoardSize:function(e){return t.setState({board_size:e})}}),model_footer:Object(f.jsx)(b.a,{text:"\u5efa\u7acb",onClick:this.do_create,processing:this.state.create_checking,buttonColor:[90,106,87],textColor:[255,255,255]}),width:"35%",margin_top:"10%",close:this.switch_create_modal})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(u.b,{to:"/competition/"+n,className:"competition-item",children:[Object(f.jsx)("i",{className:"far fa-times-circle fa-lg",onClick:function(e){e.preventDefault(),t.switch_delete_modal()}}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold"},children:n}),Object(f.jsx)("div",{children:"round-robin"===a?"\u5faa\u74b0\u8cfd":"\u6dd8\u6c70\u8cfd"}),Object(f.jsxs)("div",{children:["\u6642\u9593\u9650\u5236",i,"\u5206\u9418"]})]})]}),this.state.open_delete_modal&&Object(f.jsx)(h.a,{title:"\u78ba\u5b9a\u522a\u9664\uff1f",model_content:Object(f.jsx)(j.a,{doCancel:this.switch_delete_modal,doDelete:function(){return t.do_delete(n)}}),model_footer:Object(f.jsx)("div",{}),width:"35%",margin_top:"10%",close:this.switch_delete_modal})]})}}]),n}(d.Component);e.a=Object(p.hot)(t)(O)}).call(this,n(10)(t))},,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("table",{className:"table-widget-content",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:this.props.header.map((function(t,e){return Object(l.jsx)("th",{children:t},e)}))})}),Object(l.jsx)("tbody",{children:this.props.body.map((function(t,e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t[0]}),Object(l.jsx)("td",{children:t[1]}),Object(l.jsx)("td",{children:t[2]})]},e)}))})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.show;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(l.jsx)("span",{style:{fontWeight:"bold"},children:e}),Object(l.jsxs)("div",{style:{cursor:"pointer"},onClick:this.props.switch_content,children:[Object(l.jsx)("span",{children:n?"Hide\u2002":"Show\u2002"}),Object(l.jsx)("span",{children:Object(l.jsx)("i",{className:n?"fa fa-angle-down fa-lg fa-rotate-180":"fa fa-angle-down fa-lg"})})]})]}),Object(l.jsx)("hr",{})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(20),o=n(5),s=n(4),c=n(1),l=n(17),d=n(6),u=(n(188),n(134)),p=n(145),h=n(0),_=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;return Object(a.a)(this,n),(t=e.call(this)).state={is_login:null!==window.localStorage.getItem("token")&&""!==window.localStorage.getItem("token"),competition_list_key:Math.random()},t.updateCompetitionList=t.updateCompetitionList.bind(Object(r.a)(t)),t.login=t.login.bind(Object(r.a)(t)),t.logout=t.logout.bind(Object(r.a)(t)),t}return Object(i.a)(n,[{key:"login",value:function(){this.setState({is_login:!0})}},{key:"logout",value:function(){window.localStorage.setItem("token",""),this.setState({is_login:!1,competition_list_key:Math.random()})}},{key:"updateCompetitionList",value:function(){this.setState({competition_list_key:Math.random()})}},{key:"render",value:function(){return Object(h.jsx)(l.a,{children:Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(u.a,{updateCompetitionList:this.updateCompetitionList,is_login:this.state.is_login,login:this.login,logout:this.logout}),Object(h.jsx)(p.a,{updateCompetitionList:this.updateCompetitionList,competition_list_key:this.state.competition_list_key,is_login:this.state.is_login,login:this.login,logout:this.logout})]})})}}]),n}(c.Component);e.a=Object(d.hot)(t)(_)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(17),d=n(135),u=n(58),p=n(137),h=n(144),_=n(0),m=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.updateCompetitionList,n=t.is_login,a=t.login,i=t.logout;return Object(_.jsxs)("div",{className:"header",children:[Object(_.jsx)("div",{className:"logo-part",children:Object(_.jsx)(l.b,{to:"/",children:Object(_.jsx)("img",{alt:"\u9ed1\u767d\u68cbAI\u7af6\u8cfd\u5e73\u53f0",src:h.a,height:"50",width:"85"})})}),Object(_.jsxs)(d.a,{children:[Object(_.jsx)(u.a,{href:"/",text:"\u9996\u9801"}),Object(_.jsx)(u.a,{href:"/document/\u9ed1\u767d\u68cb\u898f\u5247",text:"\u6587\u4ef6"}),Object(_.jsx)(u.a,{href:"/competition_list",text:"\u7af6\u8cfd\u5217\u8868"}),Object(_.jsx)(p.a,{updateCompetitionList:e,is_login:n,login:a,logout:i})]})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(m)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(136),d=n(0),u=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;return Object(a.a)(this,n),(t=e.call(this)).state={navbar_maxheight:0},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this,e=this.props.children;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.a,{switch_navbar:function(){return t.setState({navbar_maxheight:1e3-t.state.navbar_maxheight})}}),Object(d.jsx)("nav",{className:"navbar",style:{maxHeight:this.state.navbar_maxheight},children:Object(d.jsx)("ul",{children:e.map((function(t,e){return Object(d.jsx)("li",{children:t},e)}))})})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(u)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props.switch_navbar;return Object(l.jsx)("div",{className:"hamgurger",onClick:t,children:Object(l.jsx)("i",{className:"fa fa-bars fa-lg"})})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(8),i=n.n(a),r=n(11),o=n(2),s=n(3),c=n(5),l=n(4),d=n(1),u=n(6),p=n(27),h=n(138),_=n(139),m=n(12),b=n(0),j=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).do_signin=Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({login_checking:!0}),t.prev=1,t.next=4,Object(m.h)(a.state.username,a.state.password);case 4:a.props.login(),a.setState({open_modal:!1,username:"",password:"",login_checking:!1,login_fail_trigger:!1}),a.props.updateCompetitionList(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),a.setState({login_fail_trigger:!0});case 13:a.setState({login_checking:!1});case 14:case"end":return t.stop()}}),t,null,[[1,9]])}))),a.switch_modal=function(){a.setState({open_modal:!a.state.open_modal})},a.state={open_modal:!1,username:"",password:"",login_checking:!1,login_fail_trigger:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsxs)("button",{onClick:this.props.is_login?this.props.logout:this.switch_modal,children:[this.props.is_login?"\u767b\u51fa":"\u7ba1\u7406\u767b\u5165",!this.props.is_login&&this.state.open_modal&&Object(b.jsx)(p.a,{title:"\u7ba1\u7406\u767b\u5165",model_content:Object(b.jsx)(h.a,{defaultUsername:this.state.username,defaultPassword:this.state.password,onChangeUsername:function(e){return t.setState({username:e,login_fail_trigger:!1})},onChangePassword:function(e){return t.setState({password:e,login_fail_trigger:!1})}}),model_footer:Object(b.jsx)(_.a,{doSignin:this.do_signin,loginChecking:this.state.login_checking,loginFailTrigger:this.state.login_fail_trigger}),width:"35%",margin_top:"10%",close:this.switch_modal})]})}}]),n}(d.Component);e.a=Object(u.hot)(t)(j)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.defaultUsername,n=t.defaultPassword,a=t.onChangeUsername,i=t.onChangePassword;return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Username"}),Object(l.jsx)("input",{autoComplete:"on",value:e,onChange:function(t){return a(t.target.value)}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{type:"password",autoComplete:"on",value:n,onChange:function(t){return i(t.target.value)}})]})]})})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(140),d=n(28),u=n(0),p=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.doSignin,n=t.loginChecking,a=t.loginFailTrigger;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d.a,{text:"\u767b\u5165",processing:n,onClick:e,buttonColor:[90,106,87],textColor:[255,255,255]}),a&&Object(u.jsx)(l.Shake,{h:10,v:0,r:3,q:1,fixed:!0,children:Object(u.jsxs)("div",{style:{color:"rgb(179,58,58)"},children:[Object(u.jsx)("i",{className:"fas fa-exclamation-circle"}),Object(u.jsx)("span",{children:" Login fail"})]})})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(p)}).call(this,n(10)(t))},,,,,function(t,e,n){"use strict";e.a=n.p+"static/media/logo.aee65b30.ico"},function(t,e,n){"use strict";(function(t){var a=n(35),i=n(2),r=n(3),o=n(5),s=n(4),c=n(1),l=n(9),d=n(6),u=n(146),p=n(149),h=n(172),_=n(175),m=n(0),b=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t=this.props,e=t.updateCompetitionList,n=t.competition_list_key,i=t.is_login,r=t.logout;return Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(u.a,{})}),Object(m.jsx)(l.a,{path:"/document",children:Object(m.jsx)(p.a,{})}),Object(m.jsx)(l.a,{path:"/competition_list",children:Object(m.jsx)(h.a,{is_login:i,updateCompetitionList:e,logout:r},n)}),Object(m.jsx)(l.a,{path:"/competition/:id",render:function(t){return Object(m.jsx)(_.a,Object(a.a)(Object(a.a)({},t),{},{is_login:i}))}}),Object(m.jsx)(l.a,{path:"*",render:function(){return Object(m.jsx)("div",{children:"404 page not found..."})}})]})}}]),n}(c.Component);e.a=Object(d.hot)(t)(b)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(147),d=n(59),u=n(82),p=n(148),h=n(0),_=function(t){Object(r.a)(s,t);var e=Object(o.a)(s);function s(){var t;return Object(a.a)(this,s),(t=e.call(this)).importAll=function(t){return t.keys().map(t)},t.state={articles:[]},t}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.setState({articles:this.importAll(n(200))})}},{key:"render",value:function(){var t=[];return Object(h.jsxs)("div",{className:"introduction",children:[Object(h.jsx)("div",{className:"bulletin",children:this.state.articles.map((function(t,e){return Object(h.jsx)("div",{className:"article",children:Object(h.jsx)(l.a,{article:t})},e)}))}),Object(h.jsxs)("div",{className:"side-widget",children:[Object(h.jsx)(d.a,{header:"\u8fd1\u671f\u8cfd\u4e8b",content:Object(h.jsx)(p.a,{content:[]})}),Object(h.jsx)(d.a,{header:"TOP10 \u5faa\u74b0\u8cfd\u5e73\u5747\u5206\u6578",content:Object(h.jsx)(u.a,{header:["\u540d\u6b21","ID","\u5206\u6578"],body:t})}),Object(h.jsx)(d.a,{header:"TOP10 \u6dd8\u6c70\u8cfd\u51a0\u8ecd\u6b21\u6578",content:Object(h.jsx)(u.a,{header:["\u540d\u6b21","ID","\u6b21\u6578"],body:t})})]})]})}}]),s}(s.Component);e.a=Object(c.hot)(t)(_)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:this.props.article.title}),Object(l.jsxs)("h5",{children:["by. ",this.props.article.author,", ",this.props.article.date]}),Object(l.jsx)("div",{className:"content",children:this.props.article.content.map((function(t,e){return Object(l.jsx)("p",{children:t},e)}))}),Object(l.jsxs)("div",{className:"comment",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("i",{className:"fas fa-caret-up fa-lg",style:{color:"rgb(172,240,184)"}}),Object(l.jsx)("i",{className:"fas fa-caret-down fa-lg",style:{color:"rgb(255,175,169)"}})]}),Object(l.jsx)("div",{children:Object(l.jsx)("i",{className:"fas fa-comments fa-lg",style:{color:"rgb(140,172,226)"}})})]})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(17),d=n(0),u=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(d.jsx)(d.Fragment,{children:this.props.content.map((function(t,e){return Object(d.jsx)(l.b,{to:"/competition/"+t,children:t},e)}))})}}]),n}(s.Component);e.a=Object(c.hot)(t)(u)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(8),i=n.n(a),r=n(11),o=n(2),s=n(3),c=n(5),l=n(4),d=n(1),u=n(6),p=n(9),h=n(60),_=n(150),m=n(38),b=n.n(m),j=n(181),f=n(536),O=n(537),x=n(151),v=n(152),y=n(153),g=n(154),w=n(155),k=n(156),C=n(157),S=n(158),N=n(159),z=n(160),P=n(161),T=n(162),H=n(163),L=n(164),A=n(165),U=n(166),F=n(167),M=n(0),I=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={game_rule:"",protocol:"",download_Python:"",download_CPlusPlus:"",download_Java:"",feedback:"",img:{rule1:v.a,rule2:y.a,rule3:g.a,rule4:w.a,rule5:k.a,rule6:C.a},a:{client_secret:{href:"data:application/json,"+JSON.stringify(N),ext:".json"},AIGamePlatform:{href:P.a,ext:".zip"},sample:{href:T.a,ext:".zip"},sample_dl:{href:H.a,ext:".zip"},sample_GUI:{href:L.a,ext:".zip"}}},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,fetch(x.a);case 3:return t.next=5,t.sent.text();case 5:return t.t1=t.sent,t.next=8,fetch(S.a);case 8:return t.next=10,t.sent.text();case 10:return t.t2=t.sent,t.next=13,fetch(z.a);case 13:return t.next=15,t.sent.text();case 15:return t.t3=t.sent,t.next=18,fetch(A.a);case 18:return t.next=20,t.sent.text();case 20:return t.t4=t.sent,t.next=23,fetch(U.a);case 23:return t.next=25,t.sent.text();case 25:return t.t5=t.sent,t.next=28,fetch(F.a);case 28:return t.next=30,t.sent.text();case 30:t.t6=t.sent,t.t7={game_rule:t.t1,protocol:t.t2,download_Python:t.t3,download_CPlusPlus:t.t4,download_Java:t.t5,feedback:t.t6},t.t0.setState.call(t.t0,t.t7);case 33:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(M.jsxs)("div",{className:"document",children:[Object(M.jsxs)("div",{className:"side-menu",children:[Object(M.jsx)("div",{style:{padding:"0.5rem 2rem 0.5rem 1.5rem"},children:" "}),Object(M.jsx)(h.a,{text:"\u9ed1\u767d\u68cb\u898f\u5247",link:"/document/\u9ed1\u767d\u68cb\u898f\u5247"}),Object(M.jsx)(h.a,{text:"\u901a\u8a0a\u5354\u5b9a",link:"/document/\u901a\u8a0a\u5354\u5b9a"}),Object(M.jsx)(_.a,{text:"\u4e0b\u8f09",list:[["Python","\u4e0b\u8f09Python"],["C++","\u4e0b\u8f09CPlusPlus"],["Java","\u4e0b\u8f09Java"]]}),Object(M.jsx)(h.a,{text:"\u554f\u984c\u56de\u5831",link:"/document/\u554f\u984c\u56de\u5831"})]}),Object(M.jsx)("div",{className:"content",children:Object(M.jsxs)(p.c,{children:[Object(M.jsx)(p.a,{path:"/document/\u9ed1\u767d\u68cb\u898f\u5247",children:Object(M.jsx)(b.a,{components:{img:function(e){return Object(M.jsx)("img",{src:t.state.img[e.src],alt:""})}},children:this.state.game_rule})}),Object(M.jsx)(p.a,{path:"/document/\u901a\u8a0a\u5354\u5b9a",children:Object(M.jsx)(b.a,{components:{code:function(t){return Object(M.jsx)(j.a,{language:"json",style:f.a,children:t.children[0]})},a:function(e){return Object(M.jsx)("a",{href:t.state.a[e.href].href,download:e.href+t.state.a[e.href].ext,children:e.children[0]})}},children:this.state.protocol})}),Object(M.jsx)(p.a,{path:"/document/\u4e0b\u8f09Python",children:Object(M.jsx)(b.a,{components:{code:function(t){return Object(M.jsx)(j.a,{language:"python",style:O.a,children:t.children[0]})},a:function(e){return Object(M.jsx)("a",{href:t.state.a[e.href].href,download:e.href+t.state.a[e.href].ext,children:e.children[0]})}},children:this.state.download_Python})}),Object(M.jsx)(p.a,{path:"/document/\u4e0b\u8f09CPlusPlus",children:Object(M.jsx)(b.a,{children:this.state.download_CPlusPlus})}),Object(M.jsx)(p.a,{path:"/document/\u4e0b\u8f09Java",children:Object(M.jsx)(b.a,{children:this.state.download_Java})}),Object(M.jsx)(p.a,{path:"/document/\u554f\u984c\u56de\u5831",children:Object(M.jsx)(b.a,{children:this.state.feedback})})]})})]})}}]),n}(d.Component);e.a=Object(u.hot)(t)(I)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(41),i=n(2),r=n(3),o=n(5),s=n(4),c=n(1),l=n(6),d=n(17),u=n(0),p=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"side-menu-menu",children:Object(u.jsx)("div",{children:this.props.text})}),this.props.list.map((function(t,e){var n=Object(a.a)(t,2),i=n[0],r=n[1];return Object(u.jsx)(d.b,{to:r,children:Object(u.jsxs)("div",{className:"side-menu-menu-item-wrapper",children:[Object(u.jsx)("div",{className:"indent"}),Object(u.jsx)("div",{className:"item",children:i})]})},e)}))]})}}]),n}(c.Component);e.a=Object(l.hot)(t)(p)}).call(this,n(10)(t))},function(t,e,n){"use strict";e.a=n.p+"static/media/game_rule.079f8770.md"},function(t,e,n){"use strict";e.a=n.p+"static/media/rule1.70371036.jpg"},function(t,e,n){"use strict";e.a=n.p+"static/media/rule2.e10b30e2.jpg"},function(t,e,n){"use strict";e.a=n.p+"static/media/rule3.7f208cc8.jpg"},function(t,e,n){"use strict";e.a=n.p+"static/media/rule4.ec4a6612.jpg"},function(t,e,n){"use strict";e.a=n.p+"static/media/rule5.528afbe2.jpg"},function(t,e,n){"use strict";e.a=n.p+"static/media/rule6.3c8568a2.jpg"},function(t,e,n){"use strict";e.a=n.p+"static/media/protocol.fc6bce76.md"},function(t){t.exports=JSON.parse('{"installed":{"client_id":"272292807664-ij5jkhcmhjft8q18s644j7msk8f7688b.apps.googleusercontent.com","project_id":"aigamingplatform","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_secret":"WH9A1gK-IHaE2t9q73QUjg2T","redirect_uris":["urn:ietf:wg:oauth:2.0:oob","http://localhost"]}}')},function(t,e,n){"use strict";e.a=n.p+"static/media/download_Python.627e5278.md"},function(t,e,n){"use strict";e.a=n.p+"static/media/AIGamePlatform.0ce38589.zip"},function(t,e,n){"use strict";e.a=n.p+"static/media/sample.a1038d59.zip"},function(t,e,n){"use strict";e.a=n.p+"static/media/sample_dl.c0668a41.zip"},function(t,e,n){"use strict";e.a=n.p+"static/media/sample_GUI.1597a629.zip"},function(t,e,n){"use strict";e.a=n.p+"static/media/download_CPlusPlus.951cbeb6.md"},function(t,e,n){"use strict";e.a=n.p+"static/media/download_Java.575d2b28.md"},function(t,e,n){"use strict";e.a=n.p+"static/media/feedback.dd846294.md"},,,,,function(t,e,n){"use strict";(function(t){var a=n(8),i=n.n(a),r=n(11),o=n(2),s=n(3),c=n(5),l=n(4),d=n(1),u=n(6),p=n(61),h=n(83),_=n(12),m=n(0),b=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={competition_list:[],competition_list_show:!0,competition_list_ended:[],competition_list_ended_show:!1},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=Object(r.a)(i.a.mark((function t(){var e,n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=[],n=[],t.next=5,Object(_.d)();case 5:a=t.sent,JSON.parse(a).forEach((function(t){return"ended"===t.status?n.push(t):e.push(t)})),this.setState({competition_list:e,competition_list_ended:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert("server is not reachable");case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(m.jsxs)("div",{className:"competition-list",children:[Object(m.jsx)(h.a,{title:"\u9032\u884c\u4e2d",show:this.state.competition_list_show,switch_content:function(){t.setState({competition_list_show:!t.state.competition_list_show})}}),Object(m.jsxs)("div",{className:"competition-list-wrapper",style:{display:this.state.competition_list_show?"grid":"none"},children:[this.props.is_login?Object(m.jsx)(p.a,{create:!0,updateCompetitionList:this.props.updateCompetitionList,logout:this.props.logout}):null,this.state.competition_list.map((function(e,n){return Object(m.jsx)(p.a,{name:e.id,type:e.type,time_limit:e.time_limit,updateCompetitionList:t.props.updateCompetitionList},n)}))]}),Object(m.jsx)("br",{}),Object(m.jsx)(h.a,{title:"\u5df2\u7d50\u675f",show:this.state.competition_list_ended_show,switch_content:function(){t.setState({competition_list_ended_show:!t.state.competition_list_ended_show})}}),Object(m.jsx)("div",{className:"competition-list-wrapper",style:{display:this.state.competition_list_ended_show?"grid":"none"},children:this.state.competition_list_ended.map((function(e,n){return Object(m.jsx)(p.a,{name:e.id,type:e.type,time_limit:e.time_limit,updateCompetitionList:t.props.updateCompetitionList},n)}))})]})}}]),n}(d.Component);e.a=Object(u.hot)(t)(b)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.defaultName,n=t.defaultType,a=t.defaultTimeLimit,i=t.defaultBoardSize,r=t.onChangeName,o=t.onChangeType,s=t.onChangeTimeLimit,c=t.onChangeBoardSize;return Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"\u540d\u7a31\uff1a"}),Object(l.jsx)("input",{value:e,onChange:function(t){return r(t.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{children:"\u8cfd\u5236\uff1a"}),Object(l.jsxs)("select",{value:n,onChange:function(t){return o(t.target.value)},children:[Object(l.jsx)("option",{value:"round-robin",children:"\u5faa\u74b0\u8cfd"}),Object(l.jsx)("option",{value:"knockout",children:"\u6dd8\u6c70\u8cfd"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{children:"\u6642\u9593\u9650\u5236\uff1a"}),Object(l.jsx)("input",{type:"range",min:"0.1",max:"20",step:"0.1",value:a,onChange:function(t){return s(t.target.value)}}),Object(l.jsx)("button",{onClick:function(t){s(parseFloat((parseFloat(a)+.1).toFixed(1)))},children:">"}),Object(l.jsxs)("span",{children:[a," min"]}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{children:"\u76e4\u9762\u5927\u5c0f\uff1a"}),Object(l.jsx)("select",{value:i,onChange:function(t){return c(t.target.value)},children:[4,6,8,10,12,14].map((function(t,e){return Object(l.jsx)("option",{value:t,children:t},e)}))})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(28),d=n(0),u=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.doCancel,n=t.doDelete;return Object(d.jsxs)("div",{className:"modal-delete-competition-body",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)(l.a,{text:"\u53d6\u6d88",onClick:e,processing:!1,buttonColor:[240,240,240],textColor:[0,0,0]}),Object(d.jsx)(l.a,{text:"\u522a\u9664",onClick:n,processing:!1,buttonColor:[220,53,69],textColor:[255,255,255]}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(u)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(8),i=n.n(a),r=n(41),o=n(11),s=n(2),c=n(3),l=n(5),d=n(4),u=n(1),p=n(6),h=n(176),_=n(177),m=n(12),b=n(0),j=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).onInit=function(e,n,a,i,r,o,s,c,l,d,u){var p=t.state.player_list;n.forEach((function(t){p[t]=void 0})),t.setState({initialize:!0,status:e,player_list:p,board:a,last_move:i,board_end:r,time_limit:o,stone_count:s,win_times:c,scoreboard:l,game_tree:d,player_color:u})},t.onAddPlayer=function(e){var n=t.state.player_list;n[e]=void 0,t.setState({player_list:n})},t.onRemovePlayer=function(e){var n=t.state.player_list;delete n[e],t.setState({player_list:n})},t.onStart=function(){t.setState({status:"start"})},t.onUpdateBoard=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t.state.board;i[e]=n;var r=t.state.last_move;r[e]=a;var o=t.state.board_end;o[e]=!1,t.setState({board:i,last_move:r,board_end:o})},t.onUpdateTimeLimit=function(e,n,a){var i=t.state.time_limit;i[e]={black:n,white:a},t.setState({time_limit:i})},t.onUpdateStoneCount=function(e,n,a){var i=t.state.stone_count;i[e]={black:n,white:a},t.setState({stone_count:i})},t.onUpdateWinTimes=function(e,n,a){var i=t.state.win_times;i[e]={black:n,white:a},t.setState({win_times:i})},t.onUpdateScoreboard=function(e){t.setState({scoreboard:e})},t.onUpdateTree=function(e){t.setState({game_tree:e})},t.onEndGame=function(e){var n=t.state.board_end;n[e]=!0,t.setState({board_end:n})},t.onEndCompetition=function(){},t.onChangeColor=function(e,n,a){var i=t.state.player_color;i[e]={black:n,white:a},t.setState({player_color:i})},t.initHistory=function(){var e=Object(o.a)(i.a.mark((function e(n){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.state.player_list,n.players.forEach((function(t){a[t]=void 0})),o={},Object.entries(n.games).map((function(e){var n=Object(r.a)(e,2),a=n[0],i=n[1];o[a]={time:0,max:i.length-1},t.onUpdateBoard(a,i[0].board),t.onChangeColor(a,i[0].black.name,i[0].white.name),t.onUpdateTimeLimit(a,i[0].black.time_limit,i[0].white.time_limit),t.onUpdateStoneCount(a,i[0].black.stone_count,i[0].white.stone_count),t.onUpdateWinTimes(a,i[0].black.win_times,i[0].white.win_times)})),t.setState({player_list:a,game_tree:n.game_tree,scoreboard:n.scoreboard,history:n.games,history_time:o,initialize:!0,status:"end"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.loadHistory=function(e,n){var a=t.state.history_time;a[e].time=n,t.onUpdateBoard(e,t.state.history[e][n].board),t.onChangeColor(e,t.state.history[e][n].black.name,t.state.history[e][n].white.name),t.onUpdateTimeLimit(e,t.state.history[e][n].black.time_limit,t.state.history[e][n].white.time_limit),t.onUpdateStoneCount(e,t.state.history[e][n].black.stone_count,t.state.history[e][n].white.stone_count),t.onUpdateWinTimes(e,t.state.history[e][n].black.win_times,t.state.history[e][n].white.win_times),t.setState({history_time:a})},t.state={initialize:!1,status:"prepare",type:"",board_size:8,player_list:{},board:{},last_move:{},board_end:{},time_limit:{},stone_count:{},win_times:{},scoreboard:{},game_tree:void 0,player_color:{},history:void 0,history_time:void 0},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m.c)(this.props.match.params.id);case 3:if(e=t.sent,e=JSON.parse(e),this.setState({type:e.type,board_size:e.board_size}),"ended"!==e.status){t.next=14;break}return t.next=9,Object(m.b)(this.props.match.params.id);case 9:e=t.sent,e=JSON.parse(e),this.initHistory(e),t.next=17;break;case 14:return t.next=16,Object(m.l)(this.props.match.params.id,this.onInit,this.onAddPlayer,this.onRemovePlayer,this.onStart,this.onUpdateBoard,this.onUpdateTimeLimit,this.onUpdateStoneCount,this.onUpdateWinTimes,this.onUpdateScoreboard,this.onUpdateTree,this.onEndGame,this.onEndCompetition,this.onChangeColor);case 16:this.ws=t.sent;case 17:t.next=21;break;case 19:t.prev=19,t.t0=t.catch(0);case 21:case"end":return t.stop()}}),t,this,[[0,19]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){try{this.ws.close()}catch(t){}}},{key:"render",value:function(){return this.state.initialize?"prepare"!==this.state.status?Object(b.jsx)(_.a,{competition_id:this.props.match.params.id,is_login:this.props.is_login,status:this.state.status,type:this.state.type,board_size:this.state.board_size,player_list:this.state.player_list,board:this.state.board,last_move:this.state.last_move,board_end:this.state.board_end,time_limit:this.state.time_limit,stone_count:this.state.stone_count,win_times:this.state.win_times,scoreboard:this.state.scoreboard,game_tree:this.state.game_tree,player_color:this.state.player_color,history_time:this.state.history_time,loadHistory:this.loadHistory}):Object(b.jsx)(h.a,{id:this.props.match.params.id,is_login:this.props.is_login,player_list:this.state.player_list}):null}}]),n}(u.Component);e.a=Object(p.hot)(t)(j)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(12),d=n(0),u=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(t){var i;return Object(a.a)(this,n),(i=e.call(this,t)).startCompetition=function(){i.setState({starting:!0});try{Object(l.k)(i.props.id)}catch(t){alert("\u555f\u52d5\u5931\u6557")}i.setState({starting:!1})},i.state={starting:!1},i}return Object(i.a)(n,[{key:"render",value:function(){var t=this,e=this.props.is_login||this.props.id.includes("test")?null:{visibility:"hidden"};return Object(d.jsxs)("div",{className:"competition-prepare",children:[Object(d.jsx)("div",{className:"id",children:Object(d.jsx)("span",{children:this.props.id})}),Object(d.jsxs)("div",{className:"control-bar",children:[Object(d.jsxs)("div",{className:"user-counter",children:[Object(d.jsx)("i",{className:"fa fa-user fa-lg"}),Object(d.jsx)("span",{children:Object.keys(this.props.player_list).length})]}),Object(d.jsx)("button",{className:"start-button",style:e,onClick:this.startCompetition,children:this.state.starting?Object(d.jsx)("i",{className:"far fa-circle-notch fa-spin"}):Object(d.jsx)("span",{children:"Start"})})]}),Object(d.jsx)("div",{className:"connection-list",children:Object.keys(this.props.player_list).map((function(e,n){return Object(d.jsx)("div",{className:t.props.is_login?"player-item-deletable":null,onClick:t.props.is_login?function(n){return Object(l.i)(t.props.id,e)}:null,children:Object(d.jsx)("span",{children:e})},n)}))})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(u)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(178),d=n(180),u=n(0),p=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(t){var i;return Object(a.a)(this,n),(i=e.call(this,t)).state={type:t.type},i}return Object(i.a)(n,[{key:"renderTournament",value:function(){switch(this.state.type){case"round-robin":return Object(u.jsx)(l.a,{competition_id:this.props.competition_id,is_login:this.props.is_login,board_size:this.props.board_size,status:this.props.status,player_list:this.props.player_list,board:this.props.board,last_move:this.props.last_move,board_end:this.props.board_end,time_limit:this.props.time_limit,stone_count:this.props.stone_count,win_times:this.props.win_times,scoreboard:this.props.scoreboard,player_color:this.props.player_color,history_time:this.props.history_time,loadHistory:this.props.loadHistory});case"knockout":return Object(u.jsx)(d.a,{competition_id:this.props.competition_id,is_login:this.props.is_login,board_size:this.props.board_size,status:this.props.status,player_list:this.props.player_list,board:this.props.board,last_move:this.props.last_move,time_limit:this.props.time_limit,stone_count:this.props.stone_count,win_times:this.props.win_times,game_tree:this.props.game_tree,player_color:this.props.player_color,history_time:this.props.history_time,loadHistory:this.props.loadHistory});default:return null}}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"competition-start",children:this.renderTournament()})}}]),n}(s.Component);e.a=Object(c.hot)(t)(p)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(41),i=n(8),r=n.n(i),o=n(11),s=n(2),c=n(3),l=n(20),d=n(5),u=n(4),p=n(1),h=n(6),_=n(30),m=n(27),b=n(55),j=n(84),f=n(179),O=n(12),x=n(56),v=n(57),y=n(0),g=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).doAssignWinner=function(){var t=Object(o.a)(r.a.mark((function t(e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.a)(a.props.competition_id,e,n);case 3:a.setState({open_modal_winner_chooser:!1}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("\u6307\u6d3e\u5931\u6557");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),a.downloadHistory=function(){var t=Object(o.a)(r.a.mark((function t(e,n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.g)(e,n,a);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert("\u4e0b\u8f09\u5931\u6557");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,n,a){return t.apply(this,arguments)}}(),a.state={open_modal:!1,open_modal_winner_chooser:!1},a.modal_player_a=null,a.modal_player_b=null,a.open_modal=a.open_modal.bind(Object(l.a)(a)),a.open_modal_winner_chooser=a.open_modal_winner_chooser.bind(Object(l.a)(a)),a.contextMenuHandler=a.contextMenuHandler.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"open_modal",value:function(t,e){this.modal_player_a=t,this.modal_player_b=e,this.setState({open_modal:!this.state.open_modal})}},{key:"open_modal_winner_chooser",value:function(t,e,n){this.game_id=t,this.modal_player_a=e,this.modal_player_b=n,this.setState({open_modal_winner_chooser:!this.state.open_modal_winner_chooser})}},{key:"contextMenuHandler",value:function(){var t=Object(o.a)(r.a.mark((function t(e,n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("restart"!==n.action){t.next=11;break}return t.prev=1,t.next=4,Object(O.j)(this.props.competition_id,a.getAttribute("game_id"));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),alert("\u91cd\u555f\u5931\u6557");case 9:t.next=12;break;case 11:"assign-winner"===n.action&&this.open_modal_winner_chooser(a.getAttribute("game_id"),a.getAttribute("player_a"),a.getAttribute("player_b"));case 12:case"end":return t.stop()}}),t,this,[[1,6]])})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{className:"round-robin-layout",children:[Object(y.jsx)(j.b,{flipKey:this.props.scoreboard.join(""),children:Object(y.jsx)("ul",{className:"scoreboard",children:this.props.scoreboard.map((function(t){var e=Object(a.a)(t,3),n=e[0],i=e[1],r=e[2];return Object(y.jsx)(j.a,{flipId:i,children:Object(y.jsx)("li",{children:Object(y.jsx)(f.a,{order:n,id:i,score:r})})},i)}))})}),Object(y.jsx)("table",{children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"table-cell-slash"}),Object.keys(this.props.player_list).map((function(t,e){return Object(y.jsx)("td",{className:"table-freeze-first-row",style:{backgroundColor:"rgb(200,196,191)"},children:t},e)}))]}),Object.keys(this.props.player_list).map((function(e,n){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"table-freeze-first-col",style:{backgroundColor:"rgb(200,196,191)"},children:e}),Object.keys(t.props.player_list).map((function(a,i){return n!==i?Object(y.jsx)(_.b,{id:t.props.is_login&&"end"!==t.props.status&&void 0!==t.props.board_end[e+"_"+a]||t.props.competition_id.includes("test")&&void 0!==t.props.board_end[e+"_"+a]?"contextmenu":"",renderTag:"td",attributes:{onClick:function(n){return void 0!==t.props.board_end[e+"_"+a]?t.open_modal(e,a):null},style:{cursor:"pointer"},game_id:"".concat(e,"_").concat(a),player_a:e,player_b:a},children:void 0===t.props.board_end[e+"_"+a]?"\u672a\u958b\u59cb":!0===t.props.board_end[e+"_"+a]||"end"===t.props.status?"\u5df2\u7d50\u675f":"(\u9032\u884c\u4e2d)"},n+"_"+i):Object(y.jsx)("td",{className:"table-cell-slash"},"j_"+i)}))]},"i_"+n)}))]})}),this.state.open_modal&&Object(y.jsx)(m.a,{title:"",model_content:Object(y.jsx)(b.a,{size:this.props.board_size,black:void 0!==this.props.player_color["".concat(this.modal_player_a,"_").concat(this.modal_player_b)]?this.props.player_color["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].black:this.modal_player_a,black_time_limit:this.props.time_limit["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].black,black_stone_count:this.props.stone_count["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].black,black_win_times:this.props.win_times["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].black,white:void 0!==this.props.player_color["".concat(this.modal_player_a,"_").concat(this.modal_player_b)]?this.props.player_color["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].white:this.modal_player_b,white_time_limit:this.props.time_limit["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].white,white_stone_count:this.props.stone_count["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].white,white_win_times:this.props.win_times["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].white,board:this.props.board[this.modal_player_a+"_"+this.modal_player_b],last_move:this.props.last_move[this.modal_player_a+"_"+this.modal_player_b]}),model_footer:"end"===this.props.status?Object(y.jsx)(v.a,{history_time:this.props.history_time,game_id:this.modal_player_a+"_"+this.modal_player_b,loadHistory:this.props.loadHistory}):Object(y.jsx)("div",{}),width:"52%",margin_top:"1%",close:this.open_modal,download:"end"===this.props.status,download_cb:function(e){return t.downloadHistory(t.props.competition_id,t.modal_player_a+"_"+t.modal_player_b,"B-".concat(t.modal_player_a,"VSW-").concat(t.modal_player_b))}}),Object(y.jsxs)(_.a,{id:"contextmenu",children:[Object(y.jsx)(_.c,{onClick:this.contextMenuHandler,data:{action:"restart"},children:"\u91cd\u65b0\u958b\u59cb"}),Object(y.jsx)(_.c,{onClick:this.contextMenuHandler,data:{action:"assign-winner"},children:"\u6307\u5b9a\u8d0f\u5bb6"})]}),this.state.open_modal_winner_chooser&&Object(y.jsx)(m.a,{title:"\u9078\u64c7\u8d0f\u5bb6",model_content:Object(y.jsx)(x.a,{game_id:this.game_id,player_a:this.modal_player_a,player_b:this.modal_player_b,doAssignWinner:this.doAssignWinner}),model_footer:Object(y.jsx)("div",{}),width:"35%",margin_top:"10%",close:this.open_modal_winner_chooser})]})}}]),n}(p.Component);e.a=Object(h.hot)(t)(g)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),r=n(5),o=n(4),s=n(1),c=n(6),l=n(0),d=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.order,n=t.id,a=t.score;return Object(l.jsxs)("div",{className:"scoreboard-item",children:[Object(l.jsx)("div",{className:"player-id",children:e+". "+n}),Object(l.jsxs)("div",{children:["Score: ",a]})]})}}]),n}(s.Component);e.a=Object(c.hot)(t)(d)}).call(this,n(10)(t))},function(t,e,n){"use strict";(function(t){var a=n(8),i=n.n(a),r=n(11),o=n(2),s=n(3),c=n(20),l=n(5),d=n(4),u=n(1),p=n(6),h=n(30),_=n(27),m=n(55),b=n(12),j=n(56),f=n(57),O=n(0),x=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).doAssignWinner=function(){var t=Object(r.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.a)(a.props.competition_id,e,n);case 3:a.setState({open_modal_winner_chooser:!1}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("\u6307\u6d3e\u5931\u6557");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),a.downloadHistory=function(){var t=Object(r.a)(i.a.mark((function t(e,n,a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.g)(e,n,a);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert("\u4e0b\u8f09\u5931\u6557");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,n,a){return t.apply(this,arguments)}}(),a.state={open_modal:!1,open_modal_winner_chooser:!1},a.modal_player_a=null,a.modal_player_b=null,a.open_modal=a.open_modal.bind(Object(c.a)(a)),a.open_modal_winner_chooser=a.open_modal_winner_chooser.bind(Object(c.a)(a)),a.contextMenuHandler=a.contextMenuHandler.bind(Object(c.a)(a)),a.max_length=-1,Object.keys(a.props.player_list).forEach((function(t){return a.max_length=Math.max(t.length,a.max_length)})),a.tree_unit_size=25,a.tree_font_size=16,a.tree_leaf_counter=0,a.plots=[],a.svg_width=0,a.svg_height=0,a}return Object(s.a)(n,[{key:"open_modal",value:function(t,e){this.modal_player_a=t,this.modal_player_b=e,this.setState({open_modal:!this.state.open_modal})}},{key:"open_modal_winner_chooser",value:function(t,e,n){this.game_id=t,this.modal_player_a=e,this.modal_player_b=n,this.setState({open_modal_winner_chooser:!this.state.open_modal_winner_chooser})}},{key:"contextMenuHandler",value:function(){var t=Object(r.a)(i.a.mark((function t(e,n,a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("restart"!==n.action){t.next=11;break}return t.prev=1,t.next=4,Object(b.j)(this.props.competition_id,a.getAttribute("game_id"));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),alert("\u91cd\u555f\u5931\u6557");case 9:t.next=12;break;case 11:"assign-winner"===n.action&&this.open_modal_winner_chooser(a.getAttribute("game_id"),a.getAttribute("player_a"),a.getAttribute("player_b"));case 12:case"end":return t.stop()}}),t,this,[[1,6]])})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"build_node",value:function(t,e,n,a,i,r){var o=this,s=t+this.max_length*this.tree_font_size;this.svg_width=s>this.svg_width?s:this.svg_width;var c=e+2*this.tree_unit_size;return this.svg_height=c>this.svg_height?c:this.svg_height,Object(O.jsxs)(h.b,{id:""!==n&&""!==a&&this.props.is_login&&"end"!==this.props.status||""!==n&&""!==a&&this.props.competition_id.includes("test")?"contextmenu":"",renderTag:"g",attributes:{className:"node",transform:"translate(".concat(t,", ").concat(e,")"),onClick:function(t){return""===n||""===a?null:o.open_modal(n,a)},style:""===n||""===a?null:{cursor:"pointer"},game_id:"".concat(n,"_").concat(a),player_a:n,player_b:a},children:[Object(O.jsx)("rect",{width:this.max_length*this.tree_font_size,height:2*this.tree_unit_size,rx:"5"}),i===n?Object(O.jsx)("rect",{x:this.max_length*this.tree_font_size*0,y:0*this.tree_unit_size,width:this.max_length*this.tree_font_size*1,height:1*this.tree_unit_size,style:{fill:"gray",stroke:"none"}}):null,void 0!==r&&r===n?Object(O.jsx)("text",{x:5,y:2*this.tree_unit_size*2/6,children:"\ud83d\udc51 "}):null,Object(O.jsx)("text",{x:this.max_length*(this.tree_font_size/2)/2,y:2*this.tree_unit_size*2/6,children:n}),i===a?Object(O.jsx)("rect",{x:this.max_length*this.tree_font_size*0,y:this.tree_unit_size,width:this.max_length*this.tree_font_size*1,height:1*this.tree_unit_size,style:{fill:"gray",stroke:"none"}}):null,Object(O.jsx)("text",{x:this.max_length*(this.tree_font_size/2)/2,y:2*this.tree_unit_size*5/6,children:a})]})}},{key:"build_line",value:function(t){var e=null;if(1===t.length)e=Object(O.jsx)("path",{className:"link",d:"M".concat(t[0].x," ").concat(t[0].y," L").concat(t[0].x+2*this.tree_unit_size," ").concat(t[0].y)});else if(2===t.length){var n=(t[0].y+t[1].y)/2;e=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("path",{className:"link",d:"  \n              M".concat(t[0].x," ").concat(t[0].y,"\n              L").concat(t[0].x+this.tree_unit_size," ").concat(t[0].y,"\n              L").concat(t[0].x+this.tree_unit_size," ").concat(n,"\n            ")}),Object(O.jsx)("path",{className:"link",d:"\n            M".concat(t[1].x," ").concat(t[1].y,"\n            L").concat(t[1].x+this.tree_unit_size," ").concat(t[1].y,"\n            L").concat(t[1].x+this.tree_unit_size," ").concat(n,"\n            ")}),Object(O.jsx)("path",{className:"link",d:"\n              M".concat(t[0].x+this.tree_unit_size," ").concat(n,"\n              L").concat(t[0].x+2*this.tree_unit_size," ").concat(n,"\n            ")})]})}this.plots.push(e)}},{key:"traversal",value:function(t,e){var n=this;if("object"!==typeof t.g[0]){var a=this.tree_unit_size+this.tree_leaf_counter*this.tree_unit_size*3,i=this.build_node(0,a,t.g[0],"");return this.plots.push(i),this.tree_leaf_counter+=1,{x:0,y:a}}for(var r=[],o=!0,s=[],c=0;c<t.g.length;c++)r.push(this.traversal(t.g[c])),void 0===t.g[c].w?o=!1:s.push(t.g[c].w);if(o){var l=s[0],d=void 0===s[1]?"":s[1],u=r[0].x+this.max_length*this.tree_font_size+2*this.tree_unit_size,p=0;r.forEach((function(t){return p+=t.y})),p/=r.length;var h=""!==l&&""!==d?t.w:void 0,_=this.build_node(u,p,l,d,h,e);this.plots.push(_);var m=[];return r.forEach((function(t){return m.push({x:t.x+n.max_length*n.tree_font_size,y:t.y+n.tree_unit_size})})),this.build_line(m),{x:u,y:p}}}},{key:"renderTree",value:function(){this.tree_leaf_counter=0,this.plots=[],this.svg_height=0,this.svg_width=0,void 0!==this.props.game_tree&&this.traversal(this.props.game_tree,this.props.game_tree.winner)}},{key:"render",value:function(){var t=this;return this.renderTree(),Object(O.jsxs)("div",{className:"knockout-layout",children:[Object(O.jsx)("svg",{style:{height:this.svg_height+this.tree_unit_size,width:this.svg_width+this.tree_unit_size},children:Object(O.jsx)("g",{children:this.plots.map((function(t,e){return Object(O.jsx)(v,{children:t},e)}))})}),this.state.open_modal&&Object(O.jsx)(_.a,{title:"",model_content:void 0===this.props.time_limit["".concat(this.modal_player_a,"_").concat(this.modal_player_b)]|void 0===this.props.stone_count["".concat(this.modal_player_a,"_").concat(this.modal_player_b)]|void 0===this.props.board["".concat(this.modal_player_a,"_").concat(this.modal_player_b)]?Object(O.jsx)("div",{children:"\u73a9\u5bb6\u5354\u8abf\u4e2d"}):Object(O.jsx)(m.a,{size:this.props.board_size,black:void 0!==this.props.player_color["".concat(this.modal_player_a,"_").concat(this.modal_player_b)]?this.props.player_color["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].black:this.modal_player_a,black_time_limit:this.props.time_limit["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].black,black_stone_count:this.props.stone_count["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].black,black_win_times:this.props.win_times["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].black,white:void 0!==this.props.player_color["".concat(this.modal_player_a,"_").concat(this.modal_player_b)]?this.props.player_color["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].white:this.modal_player_b,white_time_limit:this.props.time_limit["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].white,white_stone_count:this.props.stone_count["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].white,white_win_times:this.props.win_times["".concat(this.modal_player_a,"_").concat(this.modal_player_b)].white,board:this.props.board[this.modal_player_a+"_"+this.modal_player_b],last_move:this.props.last_move[this.modal_player_a+"_"+this.modal_player_b]}),model_footer:"end"===this.props.status?Object(O.jsx)(f.a,{history_time:this.props.history_time,game_id:this.modal_player_a+"_"+this.modal_player_b,loadHistory:this.props.loadHistory}):Object(O.jsx)("div",{}),width:"52%",margin_top:"1%",close:this.open_modal,download:"end"===this.props.status,download_cb:function(e){return t.downloadHistory(t.props.competition_id,t.modal_player_a+"_"+t.modal_player_b,t.modal_player_a+"_"+t.modal_player_b)}}),Object(O.jsxs)(h.a,{id:"contextmenu",children:[Object(O.jsx)(h.c,{onClick:this.contextMenuHandler,data:{action:"restart"},children:"\u91cd\u65b0\u958b\u59cb"}),Object(O.jsx)(h.c,{onClick:this.contextMenuHandler,data:{action:"assign-winner"},children:"\u6307\u5b9a\u8d0f\u5bb6"})]}),this.state.open_modal_winner_chooser&&Object(O.jsx)(_.a,{title:"\u9078\u64c7\u8d0f\u5bb6",model_content:Object(O.jsx)(j.a,{game_id:this.game_id,player_a:this.modal_player_a,player_b:this.modal_player_b,doAssignWinner:this.doAssignWinner}),model_footer:Object(O.jsx)("div",{}),width:"35%",margin_top:"10%",close:this.open_modal_winner_chooser})]})}}]),n}(u.Component),v=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(u.Component);e.a=Object(p.hot)(t)(x)}).call(this,n(10)(t))},,function(t,e,n){"use strict";n.r(e);n(1);var a=n(132),i=n.n(a),r=n(133),o=n(0);i.a.render(Object(o.jsx)(r.a,{}),document.getElementById("root"))},,,,,,function(t,e,n){},,,,,,,,,,,,function(t,e,n){var a={"./caasjdlkl.json":201};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=200},function(t){t.exports=JSON.parse('{"title":"\u516c\u544a","author":"admin","date":"","content":[""]}')}],[[182,1,2]]]);
//# sourceMappingURL=main.89120c39.chunk.js.map