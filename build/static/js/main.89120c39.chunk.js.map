{"version":3,"sources":["api.jsx","ModalComponents/Modal.jsx","ModalComponents/ModalButton.jsx","Competition/Board.jsx","ModalComponents/WinnerChooserBody.jsx","ModalComponents/HistoryButtonFooter.jsx","Navbar/Item.jsx","IntroductionComponents/SideWidget.jsx","DocumentComponents/Item.jsx","Competition/CompetitionItem.jsx","IntroductionComponents/TableWidgetContent.jsx","ListCollapseController.jsx","App.jsx","Header.jsx","Navbar/Navbar.jsx","Navbar/Hamburger.jsx","Navbar/LoginItem.jsx","ModalComponents/LoginBody.jsx","ModalComponents/LoginFooter.jsx","logo.ico","Content.jsx","Introduction.jsx","IntroductionComponents/Article.jsx","IntroductionComponents/PureWidgetContent.jsx","Document.jsx","DocumentComponents/Menu.jsx","DocumentComponents/documents/game_rule.md","DocumentComponents/documents/rule1.jpg","DocumentComponents/documents/rule2.jpg","DocumentComponents/documents/rule3.jpg","DocumentComponents/documents/rule4.jpg","DocumentComponents/documents/rule5.jpg","DocumentComponents/documents/rule6.jpg","DocumentComponents/documents/protocol.md","DocumentComponents/documents/download_Python.md","AIGamePlatform.zip","sample.zip","sample_dl.zip","sample_GUI.zip","DocumentComponents/documents/download_CPlusPlus.md","DocumentComponents/documents/download_Java.md","DocumentComponents/documents/feedback.md","CompetitionList.jsx","ModalComponents/CreateCompetitionBody.jsx","ModalComponents/DeleteCompetitionBody.jsx","Competition.jsx","Competition/CompetitionPrepare.jsx","Competition/CompetitionStart.jsx","Competition/Tournament/RoundRobinLayout.jsx","Competition/Tournament/ScoreboardItem.jsx","Competition/Tournament/KnockoutLayout.jsx","index.jsx","IntroductionComponents/articles sync nonrecursive /.(json)$"],"names":["login","username","password","a","Promise","resolve","reject","formData","FormData","append","fetch","config","server_url","method","header","body","then","res","ok","text","token","window","localStorage","setItem","competition_list","data","competition_history","competition_id","download_history","game_id","filename","blob","undefined","require","create_competition","name","type","time_limit","board_size","getItem","delete_competition","competition_info","competition_name","ws_connect","onInit","onAddPlayer","onRemovePlayer","onStart","onUpdateBoard","onUpdateTimeLimit","onUpdateStoneCount","onUpdateWinTimes","onUpdateScoreboard","onUpdateTree","onEndGame","onEndCompetition","onChangeColor","ws","WebSocket","wss_url","onopen","console","log","join","action","source","competition","send","JSON","stringify","onmessage","event","parse","status","player_list","board","last_move","board_end","stone_count","win_times","scoreboard","game_tree","player_color","last_position","black_time_limit","white_time_limit","black_stone_count","white_stone_count","black_win_times","white_win_times","black","white","onclose","remove_player","player_id","start_competition","restart_game","assign_winner","winner","Modal","this","props","title","model_content","model_footer","close","width","margin_top","id","className","onClick","e","stopPropagation","style","margin","maxWidth","display","flexDirection","alignItems","download","download_cb","Component","hot","module","ModalButton","state","color","buttonColor","color_string","text_color_string","textColor","processing","backgroundColor","onMouseEnter","setState","onMouseLeave","Board","size","Array","from","keys","map","_","i","j","includes","split","WinnerChooserBody","player_a","player_b","doAssignWinner","LoginFooter","history_time","time","disabled","loadHistory","max","Item","href","to","SideWidget","content","SideMenuItem","link","CompetitionItem","generateRandomHash","template","string","parseInt","Math","random","length","do_create","create_checking","competition_type","open_create_modal","open_delete_modal","delete_checking","updateCompetitionList","alert","do_delete","switch_create_modal","switch_delete_modal","create","alignSelf","defaultName","defaultType","defaultTimeLimit","defaultBoardSize","onChangeName","onChangeType","onChangeTimeLimit","onChangeBoardSize","preventDefault","fontSize","fontWeight","doCancel","doDelete","TableWidgetContent","d","index","ListCollapseController","show","justifyContent","cursor","switch_content","App","is_login","competition_list_key","bind","logout","Header","alt","src","logoImage","height","Navbar","navbar_maxheight","children","switch_navbar","maxHeight","child","Hamgurger","LoginItem","do_signin","login_checking","open_modal","login_fail_trigger","switch_modal","defaultUsername","defaultPassword","onChangeUsername","onChangePassword","doSignin","loginChecking","loginFailTrigger","LoginBody","autoComplete","value","onChange","target","h","v","r","q","fixed","Content","exact","path","render","Introduction","importAll","articles","tmp","article","Article","author","date","PureWidgetContent","Document","game_rule","protocol","download_Python","download_CPlusPlus","download_Java","feedback","img","rule1","rule2","rule3","rule4","rule5","rule6","client_secret","clientCredential","ext","AIGamePlatform","sample","sample_dl","sample_GUI","padding","list","components","code","language","a11yDark","test","SideMenuMenu","CompetitionList","competition_list_show","competition_list_ended","competition_list_ended_show","tmp_list","tmp_list_ended","forEach","row","push","CreateCompetitionBody","min","step","parseFloat","toFixed","DeleteCompetitionBody","Competition","player","initialize","tmp2","tmp3","initHistory","tmp_player_list","players","tmp_history_time","Object","entries","games","key","history","match","params","startCompetition","starting","styles","visibility","CompetitionStart","renderTournament","RoundRobinLayout","open_modal_winner_chooser","downloadHistory","modal_player_a","modal_player_b","contextMenuHandler","getAttribute","flipKey","order","score","flipId","player_i","index_i","player_j","index_j","renderTag","attributes","ScoreboardItem","KnockoutLayout","max_length","tree_unit_size","tree_font_size","tree_leaf_counter","plots","svg_width","svg_height","g_x","g_y","final_winner","w","transform","rx","x","y","fill","stroke","froms","center","tree_meta","g","node","build_node","is_children_complete","win_players","traversal","build_line","renderTree","plot","KeyedComponent","ReactDOM","document","getElementById","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","exports"],"mappings":"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","file":"static/js/main.89120c39.chunk.js","sourcesContent":["import config from \"./config.json\";\r\n\r\nconst login = async (username, password) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"username\", username);\r\n    formData.append(\"password\", password);\r\n    fetch(config.server_url + \"/admin_login\", {\r\n      method: \"POST\",\r\n      header: { \"Content-Type\": \"multipart/form-data\" },\r\n      body: formData,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.text();\r\n        } else {\r\n          reject();\r\n        }\r\n      })\r\n      .then((token) => {\r\n        window.localStorage.setItem(\"token\", token);\r\n        resolve(token);\r\n      });\r\n  });\r\n};\r\n\r\nconst competition_list = async () => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(config.server_url + \"/competition_list\", {\r\n      method: \"POST\",\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.text();\r\n        } else {\r\n          reject();\r\n        }\r\n      })\r\n      .then((data) => {\r\n        resolve(data);\r\n      });\r\n  });\r\n};\r\n\r\nconst competition_history = async (competition_id) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"competition_id\", competition_id);\r\n    fetch(config.server_url + \"/competition_history\", {\r\n      method: \"POST\",\r\n      header: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.text();\r\n        } else {\r\n          reject();\r\n        }\r\n      })\r\n      .then((data) => {\r\n        resolve(data);\r\n      });\r\n  });\r\n};\r\n\r\nconst download_history = async (competition_id, game_id, filename) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"competition_id\", competition_id);\r\n    formData.append(\"game_id\", game_id);\r\n    fetch(config.server_url + \"/download_history\", {\r\n      method: \"POST\",\r\n      header: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.blob();\r\n        } else {\r\n          reject();\r\n        }\r\n      })\r\n      .then((blob) => {\r\n        if (blob !== undefined) {\r\n          require(\"downloadjs\")(blob, filename, \"text/plain\");\r\n          resolve();\r\n        }\r\n      });\r\n  });\r\n};\r\n\r\nconst create_competition = async (name, type, time_limit, board_size) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"competition_name\", name);\r\n    formData.append(\"competition_type\", type);\r\n    formData.append(\"time_limit\", time_limit);\r\n    formData.append(\"board_size\", board_size);\r\n    formData.append(\r\n      \"Authorization\",\r\n      \"Bearer \" + window.localStorage.getItem(\"token\")\r\n    );\r\n    fetch(config.server_url + \"/create_competition\", {\r\n      method: \"POST\",\r\n      header: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        resolve();\r\n      } else {\r\n        reject();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst delete_competition = async (name) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"competition_name\", name);\r\n    formData.append(\r\n      \"Authorization\",\r\n      \"Bearer \" + window.localStorage.getItem(\"token\")\r\n    );\r\n    fetch(config.server_url + \"/delete_competition\", {\r\n      method: \"POST\",\r\n      header: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        resolve();\r\n      } else {\r\n        reject();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst competition_info = async (competition_name) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"competition_name\", competition_name);\r\n    fetch(config.server_url + \"/competition_info\", {\r\n      method: \"POST\",\r\n      header: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.text();\r\n        } else {\r\n          reject();\r\n        }\r\n      })\r\n      .then((data) => {\r\n        resolve(data);\r\n      });\r\n  });\r\n};\r\n\r\nconst ws_connect = async (\r\n  competition_name,\r\n  onInit,\r\n  onAddPlayer,\r\n  onRemovePlayer,\r\n  onStart,\r\n  onUpdateBoard,\r\n  onUpdateTimeLimit,\r\n  onUpdateStoneCount,\r\n  onUpdateWinTimes,\r\n  onUpdateScoreboard,\r\n  onUpdateTree,\r\n  onEndGame,\r\n  onEndCompetition,\r\n  onChangeColor\r\n) => {\r\n  return new Promise((resolve, reject) => {\r\n    let ws = new WebSocket(config.wss_url);\r\n    ws.onopen = () => {\r\n      console.log(\"open connection\");\r\n      resolve(ws);\r\n      let join = {\r\n        action: \"join\",\r\n        data: {\r\n          source: \"viewer\",\r\n          competition: competition_name,\r\n        },\r\n      };\r\n      ws.send(JSON.stringify(join));\r\n    };\r\n    ws.onmessage = (event) => {\r\n      let data = JSON.parse(event.data);\r\n      if (data.action === \"init\") {\r\n        onInit(\r\n          data.data.status,\r\n          data.data.player_list,\r\n          data.data.board,\r\n          data.data.last_move,\r\n          data.data.board_end,\r\n          data.data.time_limit,\r\n          data.data.stone_count,\r\n          data.data.win_times,\r\n          data.data.scoreboard,\r\n          data.data.game_tree,\r\n          data.data.player_color\r\n        );\r\n      } else if (data.action === \"add_player\") {\r\n        onAddPlayer(data.data);\r\n      } else if (data.action === \"remove_player\") {\r\n        onRemovePlayer(data.data);\r\n      } else if (data.action === \"start\") {\r\n        onStart();\r\n      } else if (data.action === \"update_board\") {\r\n        onUpdateBoard(\r\n          data.data.game_id,\r\n          data.data.board,\r\n          data.data.last_position\r\n        );\r\n      } else if (data.action === \"update_time_limit\") {\r\n        onUpdateTimeLimit(\r\n          data.data.game_id,\r\n          data.data.black_time_limit,\r\n          data.data.white_time_limit\r\n        );\r\n      } else if (data.action === \"update_stone_count\") {\r\n        onUpdateStoneCount(\r\n          data.data.game_id,\r\n          data.data.black_stone_count,\r\n          data.data.white_stone_count\r\n        );\r\n      } else if (data.action === \"update_win_times\") {\r\n        onUpdateWinTimes(\r\n          data.data.game_id,\r\n          data.data.black_win_times,\r\n          data.data.white_win_times\r\n        );\r\n      } else if (data.action === \"update_score_board\") {\r\n        onUpdateScoreboard(data.data.scoreboard);\r\n      } else if (data.action === \"update_tree\") {\r\n        onUpdateTree(data.data.game_tree);\r\n      } else if (data.action === \"end_game\") {\r\n        onEndGame(data.data.game_id);\r\n      } else if (data.action === \"end_competition\") {\r\n        onEndCompetition();\r\n      } else if (data.action === \"change_color\") {\r\n        onChangeColor(data.data.game_id, data.data.black, data.data.white);\r\n      }\r\n    };\r\n    ws.onclose = () => {\r\n      console.log(\"close connection\");\r\n    };\r\n  });\r\n};\r\n\r\nconst remove_player = async (competition_id, player_id) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"competition\", competition_id);\r\n    formData.append(\"player\", player_id);\r\n    formData.append(\r\n      \"Authorization\",\r\n      \"Bearer \" + window.localStorage.getItem(\"token\")\r\n    );\r\n    fetch(config.server_url + \"/remove_player\", {\r\n      method: \"POST\",\r\n      header: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        resolve();\r\n      } else {\r\n        reject();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst start_competition = async (competition_id) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"competition_name\", competition_id);\r\n    formData.append(\r\n      \"Authorization\",\r\n      \"Bearer \" + window.localStorage.getItem(\"token\")\r\n    );\r\n    fetch(config.server_url + \"/start_competition\", {\r\n      method: \"POST\",\r\n      header: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        resolve();\r\n      } else {\r\n        reject();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst restart_game = async (competition_id, game_id) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"competition_name\", competition_id);\r\n    formData.append(\"game_id\", game_id);\r\n    formData.append(\r\n      \"Authorization\",\r\n      \"Bearer \" + window.localStorage.getItem(\"token\")\r\n    );\r\n    fetch(config.server_url + \"/restart_game\", {\r\n      method: \"POST\",\r\n      header: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.text();\r\n        } else {\r\n          reject();\r\n        }\r\n      })\r\n      .then((data) => {\r\n        resolve(data);\r\n      });\r\n  });\r\n};\r\n\r\nconst assign_winner = async (competition_id, game_id, winner) => {\r\n  return new Promise((resolve, reject) => {\r\n    let formData = new FormData();\r\n    formData.append(\"competition_name\", competition_id);\r\n    formData.append(\"game_id\", game_id);\r\n    formData.append(\"winner\", winner);\r\n    formData.append(\r\n      \"Authorization\",\r\n      \"Bearer \" + window.localStorage.getItem(\"token\")\r\n    );\r\n    fetch(config.server_url + \"/assign_winner\", {\r\n      method: \"POST\",\r\n      header: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.text();\r\n        } else {\r\n          reject();\r\n        }\r\n      })\r\n      .then((data) => {\r\n        resolve(data);\r\n      });\r\n  });\r\n};\r\n\r\nexport {\r\n  login,\r\n  competition_list,\r\n  competition_history,\r\n  download_history,\r\n  create_competition,\r\n  delete_competition,\r\n  competition_info,\r\n  ws_connect,\r\n  remove_player,\r\n  start_competition,\r\n  restart_game,\r\n  assign_winner,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass Modal extends Component {\r\n  render() {\r\n    const { title, model_content, model_footer, close, width, margin_top, id } =\r\n      this.props;\r\n    return (\r\n      <div\r\n        id=\"login-modal\"\r\n        className=\"modal-wrapper\"\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          close(id);\r\n        }}\r\n      >\r\n        <div\r\n          className=\"modal-body\"\r\n          onClick={(e) => e.stopPropagation()}\r\n          style={{\r\n            width: width,\r\n            margin: margin_top + \" auto\",\r\n            maxWidth: \"40rem\",\r\n          }}\r\n        >\r\n          <header>\r\n            <span>{title}</span>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              {this.props.download && (\r\n                <span onClick={this.props.download_cb}>\r\n                  <i className=\"fas fa-download fa-xs\"></i>\r\n                </span>\r\n              )}\r\n              <span\r\n                onClick={(e) => close(id)}\r\n              >\r\n                &times;\r\n              </span>\r\n            </div>\r\n          </header>\r\n          <div className=\"modal-content\">{model_content}</div>\r\n          <div className=\"modal-footer\">{model_footer}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(Modal);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass ModalButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      color: props.buttonColor,\r\n      color_string: `rgba(${props.buttonColor[0]}, ${props.buttonColor[1]}, ${props.buttonColor[2]}, 0.7)`,\r\n      text_color_string: `rgb(${props.textColor[0]}, ${props.textColor[1]}, ${props.textColor[2]})`\r\n    };\r\n  }\r\n  render() {\r\n    const { text, onClick, processing } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className=\"modal-button\"\r\n        style={{backgroundColor: this.state.color_string}}\r\n        onClick={onClick}\r\n        onMouseEnter={() => {\r\n          this.setState({\r\n            color_string: `rgba(${this.state.color[0]}, ${this.state.color[1]}, ${this.state.color[2]}, 1.0)`,\r\n          });\r\n        }}\r\n        onMouseLeave={() => {\r\n          this.setState({\r\n            color_string: `rgba(${this.state.color[0]}, ${this.state.color[1]}, ${this.state.color[2]}, 0.7)`,\r\n          });\r\n        }}\r\n      >\r\n        {processing ? (\r\n          <i className=\"far fa-circle-notch fa-spin\"></i>\r\n        ) : (\r\n          <span style={{color: this.state.text_color_string}}>{text}</span>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(ModalButton);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass Board extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.size = this.props.size;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      black,\r\n      black_time_limit,\r\n      black_stone_count,\r\n      black_win_times,\r\n      white,\r\n      white_time_limit,\r\n      white_stone_count,\r\n      white_win_times,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"board\">\r\n        <div className=\"board-rows\">\r\n          {Array.from(Array(this.size).keys()).map((_, i) => (\r\n            <div key={i} className=\"board-row\">\r\n              {Array.from(Array(this.size).keys()).map((_, j) => (\r\n                <div key={i + \"_\" + j} className=\"board-cell\">\r\n                  {this.props.board[i][j] === 1 ? (\r\n                    <div className=\"black-move\"></div>\r\n                  ) : this.props.board[i][j] === -1 ? (\r\n                    <div className=\"white-move\"></div>\r\n                  ) : null}\r\n                  {this.props.last_move !== undefined &&\r\n                  (i === this.props.last_move[0]) &&\r\n                    (j === this.props.last_move[1]) ? (\r\n                    <div className=\"last-move\"></div>\r\n                  ) : null}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"board-status\">\r\n          <div>\r\n            {black.includes(\"#\") ? (\r\n              <>\r\n                <div>({black.split(\"#\")[1]})</div>\r\n                <div>黑：{black.split(\"#\")[0]}</div>\r\n              </>\r\n            ) : (\r\n              <div>黑：{black}</div>\r\n            )}\r\n            <div>剩餘時間：{black_time_limit}</div>\r\n            <div>數量：{black_stone_count}</div>\r\n            <div>勝數：{black_win_times}</div>\r\n          </div>\r\n          <hr style={{ width: \"100%\" }}></hr>\r\n          <div>\r\n            {white.includes(\"#\") ? (\r\n              <>\r\n                <div>({white.split(\"#\")[1]})</div>\r\n                <div>白：{white.split(\"#\")[0]}</div>\r\n              </>\r\n            ) : (\r\n              <div>白：{white}</div>\r\n            )}\r\n            <div>剩餘時間：{white_time_limit}</div>\r\n            <div>數量：{white_stone_count}</div>\r\n            <div>勝數：{white_win_times}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(Board);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport ModalButton from \"./ModalButton\";\r\n\r\nclass WinnerChooserBody extends Component {\r\n  render() {\r\n    const { game_id, player_a, player_b, doAssignWinner } = this.props;\r\n\r\n    return (\r\n      <div className=\"modal-delete-competition-body\">\r\n        <div></div>\r\n        <div></div>\r\n        <ModalButton\r\n          text={player_a}\r\n          onClick={()=>{doAssignWinner(game_id, player_a)}}\r\n          processing={false}\r\n          buttonColor={[240, 240, 240]}\r\n          textColor={[0, 0, 0]}\r\n        ></ModalButton>\r\n        <ModalButton\r\n          text={player_b}\r\n          onClick={()=>{doAssignWinner(game_id, player_b)}}\r\n          processing={false}\r\n          buttonColor={[240, 240, 240]}\r\n          textColor={[0, 0, 0]}\r\n        ></ModalButton>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(WinnerChooserBody);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass LoginFooter extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"modal-board-footer\">\r\n        <button\r\n          {...(this.props.history_time[this.props.game_id].time === 0\r\n            ? { disabled: true }\r\n            : {})}\r\n          onClick={(e) =>\r\n            this.props.loadHistory(\r\n              this.props.game_id,\r\n              this.props.history_time[this.props.game_id].time - 1\r\n            )\r\n          }\r\n        >\r\n          <i className=\"far far fa-angle-left fa-2x\"></i>\r\n        </button>\r\n        <div>　　</div>\r\n        <button\r\n          {...(this.props.history_time[this.props.game_id].time ===\r\n          this.props.history_time[this.props.game_id].max\r\n            ? { disabled: true }\r\n            : {})}\r\n          onClick={(e) =>\r\n            this.props.loadHistory(\r\n              this.props.game_id,\r\n              this.props.history_time[this.props.game_id].time + 1\r\n            )\r\n          }\r\n        >\r\n          <i className=\"far far fa-angle-right fa-2x\"></i>\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(LoginFooter);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass Item extends Component {\r\n  render() {\r\n    const { href, text } = this.props;\r\n    return (\r\n      <Link to={href}>{text}</Link>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(Item);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass SideWidget extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"widget\">\r\n        <div className=\"widget-header\">\r\n          {this.props.header}\r\n        </div>\r\n        <div className=\"widget-content\">\r\n          {this.props.content}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default hot(module)(SideWidget);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass SideMenuItem extends Component {\r\n  render() {\r\n    return (\r\n      <Link to={this.props.link}>\r\n        <div className=\"side-menu-item\">\r\n          <div>{this.props.text}</div>\r\n        </div>\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default hot(module)(SideMenuItem);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport Modal from \"../ModalComponents/Modal\";\r\nimport CreateCompetitionBody from \"../ModalComponents/CreateCompetitionBody\";\r\nimport { create_competition, delete_competition } from \"../api\";\r\nimport ModalButton from \"../ModalComponents/ModalButton\";\r\nimport DeleteCompetitionBody from \"../ModalComponents/DeleteCompetitionBody\";\r\n\r\nclass CompetitionItem extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      open_create_modal: false,\r\n      open_delete_modal: false,\r\n      competition_name: this.generateRandomHash(),\r\n      competition_type: \"round-robin\",\r\n      time_limit: 15,\r\n      board_size: 8,\r\n      create_checking: false,\r\n      delete_checking: false,\r\n    };\r\n  }\r\n\r\n  generateRandomHash = () => {\r\n    let template =\r\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    let string = \"\";\r\n    for (let i = 0; i < 10; i++) {\r\n      string += template[parseInt(Math.random() * template.length)];\r\n    }\r\n    return string;\r\n  };\r\n\r\n  do_create = async () => {\r\n    this.setState({ create_checking: true });\r\n    try {\r\n      await create_competition(\r\n        this.state.competition_name,\r\n        this.state.competition_type,\r\n        this.state.time_limit,\r\n        this.state.board_size\r\n      );\r\n      this.setState({\r\n        open_create_modal: false,\r\n        open_delete_modal: false,\r\n        competition_name: this.generateRandomHash(),\r\n        competition_type: \"round-robin\",\r\n        time_limit: 15,\r\n        board_size: 8,\r\n        create_checking: false,\r\n        delete_checking: false,\r\n      });\r\n      this.props.updateCompetitionList();\r\n    } catch (e) {\r\n      this.setState({ create_checking: false });\r\n      alert(\"create fail\");\r\n    }\r\n  };\r\n  do_delete = async (name) => {\r\n    this.setState({ delete_checking: true });\r\n    try {\r\n      await delete_competition(name);\r\n      this.setState({\r\n        open_delete_modal: false,\r\n        delete_checking: false,\r\n      });\r\n      this.props.updateCompetitionList();\r\n    } catch (e) {\r\n      this.setState({ delete_checking: false });\r\n      alert(\"delete fail\");\r\n    }\r\n  };\r\n  switch_create_modal = () => {\r\n    this.setState({\r\n      open_create_modal: !this.state.open_create_modal,\r\n      competition_name: this.generateRandomHash(),\r\n    });\r\n  };\r\n  switch_delete_modal = () => {\r\n    this.setState({\r\n      open_delete_modal: !this.state.open_delete_modal,\r\n    });\r\n  };\r\n  render() {\r\n    const { name, type, time_limit } = this.props;\r\n    return this.props.create ? (\r\n      <>\r\n        <div\r\n          className=\"competition-item-create\"\r\n          onClick={this.switch_create_modal}\r\n        >\r\n          <span style={{ alignSelf: \"center\" }}>+</span>\r\n        </div>\r\n        {this.state.open_create_modal && (\r\n          <Modal\r\n            title={\"建立比賽\"}\r\n            model_content={\r\n              <CreateCompetitionBody\r\n                defaultName={this.state.competition_name}\r\n                defaultType={this.state.competition_type}\r\n                defaultTimeLimit={this.state.time_limit}\r\n                defaultBoardSize={this.state.board_size}\r\n                onChangeName={(name) =>\r\n                  this.setState({ competition_name: name })\r\n                }\r\n                onChangeType={(type) =>\r\n                  this.setState({ competition_type: type })\r\n                }\r\n                onChangeTimeLimit={(time_limit) =>\r\n                  this.setState({ time_limit: time_limit })\r\n                }\r\n                onChangeBoardSize={(board_size) =>\r\n                  this.setState({ board_size: board_size })\r\n                }\r\n              ></CreateCompetitionBody>\r\n            }\r\n            model_footer={\r\n              <ModalButton\r\n                text={\"建立\"}\r\n                onClick={this.do_create}\r\n                processing={this.state.create_checking}\r\n                buttonColor={[90, 106, 87]}\r\n                textColor={[255, 255, 255]}\r\n              ></ModalButton>\r\n            }\r\n            width={\"35%\"}\r\n            margin_top={\"10%\"}\r\n            close={this.switch_create_modal}\r\n          ></Modal>\r\n        )}\r\n      </>\r\n    ) : (\r\n      <>\r\n        <Link to={\"/competition/\" + name} className=\"competition-item\">\r\n          <i\r\n            className=\"far fa-times-circle fa-lg\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              this.switch_delete_modal();\r\n            }}\r\n          ></i>\r\n          <div>\r\n            <div style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>{name}</div>\r\n            <div>{type === \"round-robin\" ? \"循環賽\" : \"淘汰賽\"}</div>\r\n            <div>時間限制{time_limit}分鐘</div>\r\n          </div>\r\n        </Link>\r\n        {this.state.open_delete_modal && (\r\n          <Modal\r\n            title={\"確定刪除？\"}\r\n            model_content={\r\n              <DeleteCompetitionBody\r\n                doCancel={this.switch_delete_modal}\r\n                doDelete={()=>this.do_delete(name)}\r\n              ></DeleteCompetitionBody>\r\n            }\r\n            model_footer={<div></div>}\r\n            width={\"35%\"}\r\n            margin_top={\"10%\"}\r\n            close={this.switch_delete_modal}\r\n          ></Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(CompetitionItem);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass TableWidgetContent extends Component {\r\n  render() {\r\n    return (\r\n      <table className=\"table-widget-content\">\r\n        <thead>\r\n          <tr>\r\n            {this.props.header.map((d, index) => (\r\n              <th key={index}>{d}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.props.body.map((d, index) => (\r\n            <tr key={index}>\r\n              <td>{d[0]}</td>\r\n              <td>{d[1]}</td>\r\n              <td>{d[2]}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n}\r\nexport default hot(module)(TableWidgetContent);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass ListCollapseController extends Component {\r\n  render() {\r\n    const { title, show } = this.props;\r\n    return (\r\n      <div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <span style={{fontWeight: \"bold\"}}>{title}</span>\r\n          <div style={{cursor: \"pointer\"}} onClick={this.props.switch_content}>\r\n            <span>{show ? \"Hide \" : \"Show \"}</span>\r\n            <span>\r\n              <i\r\n                className={\r\n                  show\r\n                    ? \"fa fa-angle-down fa-lg fa-rotate-180\"\r\n                    : \"fa fa-angle-down fa-lg\"\r\n                }\r\n              ></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(ListCollapseController);\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport \"./App.css\";\r\nimport Header from \"./Header\";\r\nimport Content from \"./Content\";\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      is_login:\r\n        window.localStorage.getItem(\"token\") !== null &&\r\n        window.localStorage.getItem(\"token\") !== \"\"\r\n          ? true\r\n          : false,\r\n      competition_list_key: Math.random(),\r\n    };\r\n    this.updateCompetitionList = this.updateCompetitionList.bind(this);\r\n    this.login = this.login.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n  login() {\r\n    this.setState({ is_login: true });\r\n  }\r\n  logout() {\r\n    window.localStorage.setItem(\"token\", \"\");\r\n    this.setState({ is_login: false, competition_list_key: Math.random() });\r\n  }\r\n  updateCompetitionList() {\r\n    this.setState({ competition_list_key: Math.random() });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div className=\"app\">\r\n          <Header\r\n            updateCompetitionList={this.updateCompetitionList}\r\n            is_login={this.state.is_login}\r\n            login={this.login}\r\n            logout={this.logout}\r\n          ></Header>\r\n          <Content\r\n            updateCompetitionList={this.updateCompetitionList}\r\n            competition_list_key={this.state.competition_list_key}\r\n            is_login={this.state.is_login}\r\n            login={this.login}\r\n            logout={this.logout}\r\n          ></Content>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(App);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from \"./Navbar/Navbar\";\r\nimport Item from \"./Navbar/Item\";\r\nimport LoginItem from \"./Navbar/LoginItem\";\r\nimport logoImage from \"./logo.ico\"\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const { updateCompetitionList, is_login, login, logout } = this.props;\r\n    return (\r\n      <div className=\"header\">\r\n        <div className=\"logo-part\">\r\n          <Link to=\"/\">\r\n            <img\r\n              alt={\"黑白棋AI競賽平台\"}\r\n              src={logoImage}\r\n              height=\"50\"\r\n              width=\"85\"\r\n            />\r\n          </Link>\r\n        </div>\r\n        <Navbar>\r\n          <Item href={\"/\"} text={\"首頁\"}></Item>\r\n          <Item href={\"/document/黑白棋規則\"} text={\"文件\"}></Item>\r\n          <Item href={\"/competition_list\"} text={\"競賽列表\"}></Item>\r\n          <LoginItem\r\n            updateCompetitionList={updateCompetitionList}\r\n            is_login={is_login}\r\n            login={login}\r\n            logout={logout}\r\n          ></LoginItem>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(Header);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport Hamburger from \"./Hamburger\";\r\n\r\nclass Navbar extends Component {\r\n  constructor(){\r\n    super()\r\n    this.state = {\r\n      navbar_maxheight: 0,\r\n    };\r\n  }\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <>\r\n        <Hamburger\r\n          switch_navbar={() =>\r\n            this.setState({\r\n              navbar_maxheight: 1000 - this.state.navbar_maxheight,\r\n            })\r\n          }\r\n        ></Hamburger>\r\n        <nav className=\"navbar\" style={{ maxHeight: this.state.navbar_maxheight }}>\r\n          <ul>\r\n            {children.map((child, index) => (\r\n              <li key={index}>{child}</li>\r\n            ))}\r\n          </ul>\r\n        </nav>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(Navbar);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass Hamgurger extends Component {\r\n  render() {\r\n    const { switch_navbar } = this.props;\r\n    return <div className=\"hamgurger\" onClick={switch_navbar}><i className=\"fa fa-bars fa-lg\"></i></div>;\r\n  }\r\n}\r\n\r\nexport default hot(module)(Hamgurger);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport Modal from \"../ModalComponents/Modal\";\r\nimport LoginBody from \"../ModalComponents/LoginBody\";\r\nimport LoginFooter from \"../ModalComponents/LoginFooter\";\r\nimport { login } from \"../api\";\r\n\r\nclass LoginItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open_modal: false,\r\n      username: \"\",\r\n      password: \"\",\r\n      login_checking: false,\r\n      login_fail_trigger: false,\r\n    };\r\n  }\r\n  do_signin = async () => {\r\n    this.setState({ login_checking: true });\r\n    try {\r\n      await login(this.state.username, this.state.password);\r\n      this.props.login();\r\n      this.setState({\r\n        open_modal: false,\r\n        username: \"\",\r\n        password: \"\",\r\n        login_checking: false,\r\n        login_fail_trigger: false,\r\n      });\r\n      this.props.updateCompetitionList();\r\n    } catch (e) {\r\n      console.log(e)\r\n      this.setState({ login_fail_trigger: true });\r\n    }\r\n    this.setState({ login_checking: false });\r\n  };\r\n  switch_modal = () => {\r\n    this.setState({\r\n      open_modal: !this.state.open_modal,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <button\r\n        onClick={this.props.is_login ? this.props.logout : this.switch_modal}\r\n      >\r\n        {this.props.is_login ? \"登出\" : \"管理登入\"}\r\n        {!this.props.is_login && this.state.open_modal && (\r\n          <Modal\r\n            title={\"管理登入\"}\r\n            model_content={\r\n              <LoginBody\r\n                defaultUsername={this.state.username}\r\n                defaultPassword={this.state.password}\r\n                onChangeUsername={(username)=>this.setState({ username: username, login_fail_trigger: false })}\r\n                onChangePassword={(password)=>this.setState({ password: password, login_fail_trigger: false })}\r\n              ></LoginBody>\r\n            }\r\n            model_footer={\r\n              <LoginFooter\r\n                doSignin={this.do_signin}\r\n                loginChecking={this.state.login_checking}\r\n                loginFailTrigger={this.state.login_fail_trigger}\r\n              ></LoginFooter>\r\n            }\r\n            width={\"35%\"}\r\n            margin_top={\"10%\"}\r\n            close={this.switch_modal}\r\n          ></Modal>\r\n        )}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(LoginItem);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass LoginBody extends Component {\r\n  render() {\r\n    const { defaultUsername, defaultPassword, onChangeUsername, onChangePassword } = this.props;\r\n    \r\n    return (\r\n      <div>\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label>Username</label>\r\n            <input\r\n              autoComplete=\"on\"\r\n              value={defaultUsername}\r\n              onChange={(e) => onChangeUsername(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              autoComplete=\"on\"\r\n              value={defaultPassword}\r\n              onChange={(e) => onChangePassword(e.target.value)}\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(LoginBody);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Shake } from \"reshake\";\r\nimport ModalButton from \"./ModalButton\";\r\n\r\nclass LoginFooter extends Component {\r\n  render() {\r\n    const { doSignin, loginChecking, loginFailTrigger } = this.props;\r\n    return (\r\n      <>\r\n        <ModalButton\r\n          text={\"登入\"}\r\n          processing={loginChecking}\r\n          onClick={doSignin}\r\n          buttonColor={[90, 106, 87]}\r\n          textColor={[255,255,255]}\r\n        ></ModalButton>\r\n        {loginFailTrigger && (\r\n          <Shake h={10} v={0} r={3} q={1} fixed={true}>\r\n            <div style={{ color: \"rgb(179,58,58)\" }}>\r\n              <i className=\"fas fa-exclamation-circle\"></i>\r\n              <span> Login fail</span>\r\n            </div>\r\n          </Shake>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(LoginFooter);\r\n","export default __webpack_public_path__ + \"static/media/logo.aee65b30.ico\";","import React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport Introduction from \"./Introduction\";\r\nimport Document from \"./Document\";\r\nimport CompetitionList from \"./CompetitionList\";\r\nimport Competition from \"./Competition\";\r\n\r\nclass Content extends Component {\r\n  render() {\r\n    const { updateCompetitionList, competition_list_key, is_login, logout } = this.props;\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Introduction></Introduction>\r\n        </Route>\r\n        <Route path=\"/document\">\r\n          <Document></Document>\r\n        </Route>\r\n        <Route path=\"/competition_list\">\r\n          <CompetitionList\r\n            key={competition_list_key}\r\n            is_login={is_login}\r\n            updateCompetitionList={updateCompetitionList}\r\n            logout={logout}\r\n          ></CompetitionList>\r\n        </Route>\r\n        <Route\r\n          path=\"/competition/:id\"\r\n          render={(props) => (\r\n            <Competition {...props} is_login={is_login} />\r\n          )}\r\n        ></Route>\r\n        <Route\r\n          path=\"*\"\r\n          render={() => {\r\n            return <div>404 page not found...</div>;\r\n          }}\r\n        ></Route>\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(Content);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport Article from \"./IntroductionComponents/Article\";\r\nimport SideWidget from \"./IntroductionComponents/SideWidget\";\r\nimport TableWidgetContent from \"./IntroductionComponents/TableWidgetContent\";\r\nimport PureWidgetContent from \"./IntroductionComponents/PureWidgetContent\";\r\n\r\nclass Introduction extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      articles: [],\r\n    };\r\n  }\r\n\r\n  importAll = (r) => {\r\n    return r.keys().map(r);\r\n  };\r\n  componentDidMount() {\r\n    this.setState({\r\n      articles: this.importAll(\r\n        require.context(\"./IntroductionComponents/articles\", false, /\\.(json)$/)\r\n      ),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const tmp = [];\r\n    const tmp2 = [];\r\n    return (\r\n      <div className=\"introduction\">\r\n        <div className=\"bulletin\">\r\n          {this.state.articles.map((article, index) => (\r\n            <div key={index} className=\"article\">\r\n              <Article article={article}></Article>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"side-widget\">\r\n          <SideWidget\r\n            header={\"近期賽事\"}\r\n            content={<PureWidgetContent content={tmp2}></PureWidgetContent>}\r\n          ></SideWidget>\r\n          <SideWidget\r\n            header={\"TOP10 循環賽平均分數\"}\r\n            content={\r\n              <TableWidgetContent\r\n                header={[\"名次\", \"ID\", \"分數\"]}\r\n                body={tmp}\r\n              ></TableWidgetContent>\r\n            }\r\n          ></SideWidget>\r\n          <SideWidget\r\n            header={\"TOP10 淘汰賽冠軍次數\"}\r\n            content={\r\n              <TableWidgetContent\r\n                header={[\"名次\", \"ID\", \"次數\"]}\r\n                body={tmp}\r\n              ></TableWidgetContent>\r\n            }\r\n          ></SideWidget>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(Introduction);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass Article extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <h1>{this.props.article.title}</h1>\r\n        <h5>\r\n          by. {this.props.article.author}, {this.props.article.date}\r\n        </h5>\r\n        <div className=\"content\">\r\n          {this.props.article.content.map((data, index) => (\r\n            <p key={index}>{data}</p>\r\n          ))}\r\n        </div>\r\n        <div className=\"comment\">\r\n          <div>\r\n            <i\r\n              className=\"fas fa-caret-up fa-lg\"\r\n              style={{ color: \"rgb(172,240,184)\" }}\r\n            ></i>\r\n            <i\r\n              className=\"fas fa-caret-down fa-lg\"\r\n              style={{ color: \"rgb(255,175,169)\" }}\r\n            ></i>\r\n          </div>\r\n          <div>\r\n            <i\r\n              className=\"fas fa-comments fa-lg\"\r\n              style={{ color: \"rgb(140,172,226)\" }}\r\n            ></i>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default hot(module)(Article);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass PureWidgetContent extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.content.map((d, index) => (\r\n          <Link key={index} to={\"/competition/\" + d}>\r\n            {d}\r\n          </Link>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default hot(module)(PureWidgetContent);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Item from \"./DocumentComponents/Item\";\r\nimport Menu from \"./DocumentComponents/Menu\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\r\nimport { a11yDark } from \"react-syntax-highlighter/dist/esm/styles/prism\";\r\nimport { materialDark as test } from \"react-syntax-highlighter/dist/esm/styles/prism\";\r\n\r\nimport game_rule from \"./DocumentComponents/documents/game_rule.md\";\r\nimport rule1 from \"./DocumentComponents/documents/rule1.jpg\";\r\nimport rule2 from \"./DocumentComponents/documents/rule2.jpg\";\r\nimport rule3 from \"./DocumentComponents/documents/rule3.jpg\";\r\nimport rule4 from \"./DocumentComponents/documents/rule4.jpg\";\r\nimport rule5 from \"./DocumentComponents/documents/rule5.jpg\";\r\nimport rule6 from \"./DocumentComponents/documents/rule6.jpg\";\r\nimport protocol from \"./DocumentComponents/documents/protocol.md\";\r\nimport clientCredential from \"./client_secret.json\";\r\nimport download_Python from \"./DocumentComponents/documents/download_Python.md\";\r\nimport AIGamePlatform from \"./AIGamePlatform.zip\";\r\nimport sample from \"./sample.zip\";\r\nimport sample_dl from \"./sample_dl.zip\";\r\nimport sample_GUI from \"./sample_GUI.zip\";\r\nimport download_CPlusPlus from \"./DocumentComponents/documents/download_CPlusPlus.md\";\r\nimport download_Java from \"./DocumentComponents/documents/download_Java.md\";\r\nimport feedback from \"./DocumentComponents/documents/feedback.md\";\r\n\r\nclass Document extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      game_rule: \"\",\r\n      protocol: \"\",\r\n      download_Python: \"\",\r\n      download_CPlusPlus: \"\",\r\n      download_Java: \"\",\r\n      feedback: \"\",\r\n      img: {\r\n        rule1: rule1,\r\n        rule2: rule2,\r\n        rule3: rule3,\r\n        rule4: rule4,\r\n        rule5: rule5,\r\n        rule6: rule6,\r\n      },\r\n      a: {\r\n        client_secret: {\r\n          href: \"data:application/json,\" + JSON.stringify(clientCredential),\r\n          ext: \".json\",\r\n        },\r\n        AIGamePlatform: { href: AIGamePlatform, ext: \".zip\" },\r\n        sample: { href: sample, ext: \".zip\" },\r\n        sample_dl: { href: sample_dl, ext: \".zip\" },\r\n        sample_GUI: { href: sample_GUI, ext: \".zip\" }\r\n      },\r\n    };\r\n  }\r\n  async componentDidMount() {\r\n    this.setState({\r\n      game_rule: await (await fetch(game_rule)).text(),\r\n      protocol: await (await fetch(protocol)).text(),\r\n      download_Python: await (await fetch(download_Python)).text(),\r\n      download_CPlusPlus: await (await fetch(download_CPlusPlus)).text(),\r\n      download_Java: await (await fetch(download_Java)).text(),\r\n      feedback: await (await fetch(feedback)).text(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"document\">\r\n        <div className=\"side-menu\">\r\n          <div style={{ padding: \"0.5rem 2rem 0.5rem 1.5rem\" }}> </div>\r\n          <Item text={\"黑白棋規則\"} link={\"/document/黑白棋規則\"}></Item>\r\n          <Item text={\"通訊協定\"} link={\"/document/通訊協定\"}></Item>\r\n          <Menu\r\n            text={\"下載\"}\r\n            list={[\r\n              [\"Python\", \"下載Python\"],\r\n              [\"C++\", \"下載CPlusPlus\"],\r\n              [\"Java\", \"下載Java\"],\r\n            ]}\r\n          ></Menu>\r\n          <Item text={\"問題回報\"} link={\"/document/問題回報\"}></Item>\r\n        </div>\r\n        <div className=\"content\">\r\n          <Switch>\r\n            <Route path=\"/document/黑白棋規則\">\r\n              <ReactMarkdown\r\n                components={{\r\n                  img: (props) => <img src={this.state.img[props.src]} alt=\"\" />,\r\n                }}\r\n              >\r\n                {this.state.game_rule}\r\n              </ReactMarkdown>\r\n            </Route>\r\n            <Route path=\"/document/通訊協定\">\r\n              <ReactMarkdown\r\n                components={{\r\n                  code: (props) => (\r\n                    <SyntaxHighlighter language=\"json\" style={a11yDark}>\r\n                      {props.children[0]}\r\n                    </SyntaxHighlighter>\r\n                  ),\r\n                  a: (props) => (\r\n                    <a\r\n                      href={this.state.a[props.href].href}\r\n                      download={props.href + this.state.a[props.href].ext}\r\n                    >\r\n                      {props.children[0]}\r\n                    </a>\r\n                  ),\r\n                }}\r\n              >\r\n                {this.state.protocol}\r\n              </ReactMarkdown>\r\n            </Route>\r\n            <Route path=\"/document/下載Python\">\r\n              <ReactMarkdown\r\n                components={{\r\n                  code: (props) => (\r\n                    <SyntaxHighlighter language=\"python\" style={test}>\r\n                      {props.children[0]}\r\n                    </SyntaxHighlighter>\r\n                  ),\r\n                  a: (props) => (\r\n                    <a\r\n                      href={this.state.a[props.href].href}\r\n                      download={props.href + this.state.a[props.href].ext}\r\n                    >\r\n                      {props.children[0]}\r\n                    </a>\r\n                  ),\r\n                }}\r\n              >\r\n                {this.state.download_Python}\r\n              </ReactMarkdown>\r\n            </Route>\r\n            <Route path=\"/document/下載CPlusPlus\">\r\n              <ReactMarkdown>{this.state.download_CPlusPlus}</ReactMarkdown>\r\n            </Route>\r\n            <Route path=\"/document/下載Java\">\r\n              <ReactMarkdown>{this.state.download_Java}</ReactMarkdown>\r\n            </Route>\r\n            <Route path=\"/document/問題回報\">\r\n              <ReactMarkdown>{this.state.feedback}</ReactMarkdown>\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(Document);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass SideMenuMenu extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"side-menu-menu\">\r\n          <div>{this.props.text}</div>\r\n        </div>\r\n        {this.props.list.map(([text, link], index) => (\r\n          <Link key={index} to={link}>\r\n            <div className=\"side-menu-menu-item-wrapper\">\r\n              <div className=\"indent\"></div>\r\n              <div className=\"item\">{text}</div>\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default hot(module)(SideMenuMenu);\r\n","export default __webpack_public_path__ + \"static/media/game_rule.079f8770.md\";","export default __webpack_public_path__ + \"static/media/rule1.70371036.jpg\";","export default __webpack_public_path__ + \"static/media/rule2.e10b30e2.jpg\";","export default __webpack_public_path__ + \"static/media/rule3.7f208cc8.jpg\";","export default __webpack_public_path__ + \"static/media/rule4.ec4a6612.jpg\";","export default __webpack_public_path__ + \"static/media/rule5.528afbe2.jpg\";","export default __webpack_public_path__ + \"static/media/rule6.3c8568a2.jpg\";","export default __webpack_public_path__ + \"static/media/protocol.fc6bce76.md\";","export default __webpack_public_path__ + \"static/media/download_Python.627e5278.md\";","export default __webpack_public_path__ + \"static/media/AIGamePlatform.0ce38589.zip\";","export default __webpack_public_path__ + \"static/media/sample.a1038d59.zip\";","export default __webpack_public_path__ + \"static/media/sample_dl.c0668a41.zip\";","export default __webpack_public_path__ + \"static/media/sample_GUI.1597a629.zip\";","export default __webpack_public_path__ + \"static/media/download_CPlusPlus.951cbeb6.md\";","export default __webpack_public_path__ + \"static/media/download_Java.575d2b28.md\";","export default __webpack_public_path__ + \"static/media/feedback.dd846294.md\";","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport CompetitionItem from \"./Competition/CompetitionItem\";\r\nimport ListCollapseController from \"./ListCollapseController\";\r\nimport { competition_list } from \"./api\";\r\n\r\nclass CompetitionList extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      competition_list: [],\r\n      competition_list_show: true,\r\n      competition_list_ended: [],\r\n      competition_list_ended_show: false,\r\n    };\r\n  }\r\n  async componentDidMount() {\r\n    try {\r\n      let tmp_list = [];\r\n      let tmp_list_ended = [];\r\n      let data = await competition_list();\r\n      JSON.parse(data).forEach((row) =>\r\n        row.status === \"ended\" ? tmp_list_ended.push(row) : tmp_list.push(row)\r\n      );\r\n      this.setState({\r\n        competition_list: tmp_list,\r\n        competition_list_ended: tmp_list_ended,\r\n      });\r\n    } catch (e) {\r\n      alert('server is not reachable')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"competition-list\">\r\n        <ListCollapseController\r\n          title=\"進行中\"\r\n          show={this.state.competition_list_show}\r\n          switch_content={() => {\r\n            this.setState({\r\n              competition_list_show: !this.state.competition_list_show,\r\n            });\r\n          }}\r\n        ></ListCollapseController>\r\n\r\n        <div\r\n          className=\"competition-list-wrapper\"\r\n          style={{\r\n            display: this.state.competition_list_show ? \"grid\" : \"none\",\r\n          }}\r\n        >\r\n          {this.props.is_login ? (\r\n            <CompetitionItem\r\n              create={true}\r\n              updateCompetitionList={this.props.updateCompetitionList}\r\n              logout={this.props.logout}\r\n            />\r\n          ) : null}\r\n          {this.state.competition_list.map((competition_info, index) => (\r\n            <CompetitionItem\r\n              key={index}\r\n              name={competition_info.id}\r\n              type={competition_info.type}\r\n              time_limit={competition_info.time_limit}\r\n              updateCompetitionList={this.props.updateCompetitionList}\r\n            ></CompetitionItem>\r\n          ))}\r\n        </div>\r\n        <br />\r\n        <ListCollapseController\r\n          title=\"已結束\"\r\n          show={this.state.competition_list_ended_show}\r\n          switch_content={() => {\r\n            this.setState({\r\n              competition_list_ended_show:\r\n                !this.state.competition_list_ended_show,\r\n            });\r\n          }}\r\n        ></ListCollapseController>\r\n        <div\r\n          className=\"competition-list-wrapper\"\r\n          style={{\r\n            display: this.state.competition_list_ended_show ? \"grid\" : \"none\",\r\n          }}\r\n        >\r\n          {this.state.competition_list_ended.map((competition_info, index) => (\r\n            <CompetitionItem\r\n              key={index}\r\n              name={competition_info.id}\r\n              type={competition_info.type}\r\n              time_limit={competition_info.time_limit}\r\n              updateCompetitionList={this.props.updateCompetitionList}\r\n            ></CompetitionItem>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(CompetitionList);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass CreateCompetitionBody extends Component {\r\n  render() {\r\n    const {\r\n      defaultName,\r\n      defaultType,\r\n      defaultTimeLimit,\r\n      defaultBoardSize,\r\n      onChangeName,\r\n      onChangeType,\r\n      onChangeTimeLimit,\r\n      onChangeBoardSize,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <label>名稱：</label>\r\n        <input\r\n          value={defaultName}\r\n          onChange={(e) => onChangeName(e.target.value)}\r\n        />\r\n        <br />\r\n        <label>賽制：</label>\r\n        <select\r\n          value={defaultType}\r\n          onChange={(e) => onChangeType(e.target.value)}\r\n        >\r\n          <option value=\"round-robin\">循環賽</option>\r\n          <option value=\"knockout\">淘汰賽</option>\r\n        </select>\r\n        <br />\r\n        <label>時間限制：</label>\r\n        <input\r\n          type=\"range\"\r\n          min=\"0.1\"\r\n          max=\"20\"\r\n          step=\"0.1\"\r\n          value={defaultTimeLimit}\r\n          onChange={(e) => onChangeTimeLimit(e.target.value)}\r\n        ></input>\r\n        <button\r\n          onClick={(e) => {\r\n            onChangeTimeLimit(\r\n              parseFloat((parseFloat(defaultTimeLimit) + 0.1).toFixed(1))\r\n            );\r\n          }}\r\n        >\r\n          {\">\"}\r\n        </button>\r\n        <span>{defaultTimeLimit} min</span>\r\n        <br />\r\n        <label>盤面大小：</label>\r\n        <select\r\n          value={defaultBoardSize}\r\n          onChange={(e) => onChangeBoardSize(e.target.value)}\r\n        >\r\n          {[4, 6, 8, 10, 12, 14].map((size, index) => (\r\n            <option key={index} value={size}>\r\n              {size}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(CreateCompetitionBody);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport ModalButton from \"./ModalButton\";\r\n\r\nclass DeleteCompetitionBody extends Component {\r\n  render() {\r\n    const { doCancel, doDelete } = this.props;\r\n\r\n    return (\r\n      <div className=\"modal-delete-competition-body\">\r\n        <div></div>\r\n        <div></div>\r\n        <ModalButton\r\n          text={\"取消\"}\r\n          onClick={doCancel}\r\n          processing={false}\r\n          buttonColor={[240, 240, 240]}\r\n          textColor={[0, 0, 0]}\r\n        ></ModalButton>\r\n        <ModalButton\r\n          text={\"刪除\"}\r\n          onClick={doDelete}\r\n          processing={false}\r\n          buttonColor={[220, 53, 69]}\r\n          textColor={[255, 255, 255]}\r\n        ></ModalButton>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(DeleteCompetitionBody);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport CompetitionPrepare from \"./Competition/CompetitionPrepare\";\r\nimport CompetitionStart from \"./Competition/CompetitionStart\";\r\nimport { competition_info, competition_history, ws_connect } from \"./api\";\r\n\r\nclass Competition extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      initialize: false,\r\n      status: \"prepare\",\r\n      type: \"\",\r\n      board_size: 8,\r\n      player_list: {},\r\n      board: {},\r\n      last_move: {},\r\n      board_end: {},\r\n      time_limit: {},\r\n      stone_count: {},\r\n      win_times: {},\r\n      scoreboard: {},\r\n      game_tree: undefined,\r\n      player_color: {},\r\n      history: undefined,\r\n      history_time: undefined,\r\n    };\r\n  }\r\n\r\n  onInit = (\r\n    status,\r\n    player_list,\r\n    board,\r\n    last_move,\r\n    board_end,\r\n    time_limit,\r\n    stone_count,\r\n    win_times,\r\n    scoreboard,\r\n    game_tree,\r\n    player_color\r\n  ) => {\r\n    let tmp = this.state.player_list;\r\n    player_list.forEach((player) => {\r\n      tmp[player] = undefined;\r\n    });\r\n    this.setState({\r\n      initialize: true,\r\n      status: status,\r\n      player_list: tmp,\r\n      board: board,\r\n      last_move: last_move,\r\n      board_end: board_end,\r\n      time_limit: time_limit,\r\n      stone_count: stone_count,\r\n      win_times: win_times,\r\n      scoreboard: scoreboard,\r\n      game_tree: game_tree,\r\n      player_color: player_color,\r\n    });\r\n  };\r\n  onAddPlayer = (player_id) => {\r\n    let tmp = this.state.player_list;\r\n    tmp[player_id] = undefined;\r\n    this.setState({ player_list: tmp });\r\n  };\r\n  onRemovePlayer = (player_id) => {\r\n    let tmp = this.state.player_list;\r\n    delete tmp[player_id];\r\n    this.setState({ player_list: tmp });\r\n  };\r\n  onStart = () => {\r\n    this.setState({\r\n      status: \"start\",\r\n    });\r\n  };\r\n  onUpdateBoard = (game_id, board, last_move=[]) => {\r\n    let tmp = this.state.board;\r\n    tmp[game_id] = board;\r\n    let tmp2 = this.state.last_move;\r\n    tmp2[game_id] = last_move;\r\n    let tmp3 = this.state.board_end;\r\n    tmp3[game_id] = false;\r\n    this.setState({ board: tmp, last_move: tmp2, board_end: tmp3 });\r\n  };\r\n  onUpdateTimeLimit = (game_id, black_time_limit, white_time_limit) => {\r\n    let tmp = this.state.time_limit;\r\n    tmp[game_id] = { black: black_time_limit, white: white_time_limit };\r\n    this.setState({ time_limit: tmp });\r\n  };\r\n  onUpdateStoneCount = (game_id, black_stone_count, white_stone_count) => {\r\n    let tmp = this.state.stone_count;\r\n    tmp[game_id] = { black: black_stone_count, white: white_stone_count };\r\n    this.setState({ stone_count: tmp });\r\n  };\r\n  onUpdateWinTimes = (game_id, black_win_times, white_win_times) => {\r\n    let tmp = this.state.win_times;\r\n    tmp[game_id] = { black: black_win_times, white: white_win_times };\r\n    this.setState({ win_times: tmp });\r\n  };\r\n  onUpdateScoreboard = (scoreboard) => {\r\n    this.setState({ scoreboard: scoreboard });\r\n  };\r\n  onUpdateTree = (game_tree) => {\r\n    this.setState({ game_tree: game_tree });\r\n  };\r\n  onEndGame = (game_id) => {\r\n    let tmp = this.state.board_end;\r\n    tmp[game_id] = true;\r\n    this.setState({ board_end: tmp });\r\n  };\r\n  onEndCompetition = () => {};\r\n  onChangeColor = (game_id, black, white) => {\r\n    let tmp = this.state.player_color;\r\n    tmp[game_id] = { black: black, white: white };\r\n    this.setState({ player_color: tmp });\r\n  };\r\n\r\n  initHistory = async (data) => {\r\n    let tmp_player_list = this.state.player_list;\r\n    data.players.forEach((player) => {\r\n      tmp_player_list[player] = undefined;\r\n    });\r\n    let tmp_history_time = {};\r\n    Object.entries(data.games).map(([key, value]) => {\r\n      tmp_history_time[key] = { time: 0, max: value.length - 1 };\r\n      this.onUpdateBoard(key, value[0].board);\r\n      this.onChangeColor(key, value[0].black.name, value[0].white.name);\r\n      this.onUpdateTimeLimit(key, value[0].black.time_limit, value[0].white.time_limit );\r\n      this.onUpdateStoneCount(key, value[0].black.stone_count, value[0].white.stone_count);\r\n      this.onUpdateWinTimes(key, value[0].black.win_times, value[0].white.win_times);\r\n    });\r\n    this.setState({ \r\n      player_list: tmp_player_list, \r\n      game_tree: data.game_tree, \r\n      scoreboard: data.scoreboard,\r\n      history: data.games,\r\n      history_time: tmp_history_time,\r\n      initialize: true,\r\n      status: \"end\"\r\n    });\r\n  };\r\n  loadHistory = (game_id, time) => {\r\n    let tmp = this.state.history_time;\r\n    tmp[game_id].time = time;\r\n    this.onUpdateBoard(game_id, this.state.history[game_id][time].board);\r\n    this.onChangeColor(\r\n      game_id,\r\n      this.state.history[game_id][time].black.name,\r\n      this.state.history[game_id][time].white.name\r\n    );\r\n    this.onUpdateTimeLimit(\r\n      game_id,\r\n      this.state.history[game_id][time].black.time_limit,\r\n      this.state.history[game_id][time].white.time_limit\r\n    );\r\n    this.onUpdateStoneCount(\r\n      game_id,\r\n      this.state.history[game_id][time].black.stone_count,\r\n      this.state.history[game_id][time].white.stone_count\r\n    );\r\n    this.onUpdateWinTimes(\r\n      game_id,\r\n      this.state.history[game_id][time].black.win_times,\r\n      this.state.history[game_id][time].white.win_times\r\n    );\r\n    this.setState({ history_time: tmp });\r\n  };\r\n  async componentDidMount() {\r\n    try {\r\n      let data = await competition_info(this.props.match.params[\"id\"]);\r\n      data = JSON.parse(data);\r\n      this.setState({\r\n        type: data.type,\r\n        board_size: data.board_size\r\n      });\r\n      if (data.status === \"ended\") {\r\n        data = await competition_history(this.props.match.params[\"id\"]);\r\n        data = JSON.parse(data);\r\n        this.initHistory(data);\r\n      } else {\r\n        this.ws = await ws_connect(\r\n          this.props.match.params[\"id\"],\r\n          this.onInit,\r\n          this.onAddPlayer,\r\n          this.onRemovePlayer,\r\n          this.onStart,\r\n          this.onUpdateBoard,\r\n          this.onUpdateTimeLimit,\r\n          this.onUpdateStoneCount,\r\n          this.onUpdateWinTimes,\r\n          this.onUpdateScoreboard,\r\n          this.onUpdateTree,\r\n          this.onEndGame,\r\n          this.onEndCompetition,\r\n          this.onChangeColor\r\n        );\r\n      }\r\n    } catch (e) {}\r\n  }\r\n  componentWillUnmount() {\r\n    try {\r\n      this.ws.close();\r\n    } catch (e) {}\r\n  }\r\n\r\n  render() {\r\n    return this.state.initialize ? (\r\n      this.state.status !== \"prepare\" ? (\r\n        <CompetitionStart\r\n          competition_id={this.props.match.params[\"id\"]}\r\n          is_login={this.props.is_login}\r\n          status={this.state.status}\r\n          type={this.state.type}\r\n          board_size={this.state.board_size}\r\n          player_list={this.state.player_list}\r\n          board={this.state.board}\r\n          last_move={this.state.last_move}\r\n          board_end={this.state.board_end}\r\n          time_limit={this.state.time_limit}\r\n          stone_count={this.state.stone_count}\r\n          win_times={this.state.win_times}\r\n          scoreboard={this.state.scoreboard}\r\n          game_tree={this.state.game_tree}\r\n          player_color={this.state.player_color}\r\n          history_time={this.state.history_time}\r\n          loadHistory={this.loadHistory}\r\n        ></CompetitionStart>\r\n      ) : (\r\n        <CompetitionPrepare\r\n          id={this.props.match.params[\"id\"]}\r\n          is_login={this.props.is_login}\r\n          player_list={this.state.player_list}\r\n        ></CompetitionPrepare>\r\n      )\r\n    ) : null;\r\n  }\r\n}\r\n\r\nexport default hot(module)(Competition);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { remove_player, start_competition } from \"../api\";\r\n\r\nclass Competition extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      starting: false,\r\n    };\r\n  }\r\n  startCompetition = () => {\r\n    this.setState({ starting: true });\r\n    try {\r\n      start_competition(this.props.id);\r\n    } catch (e) {\r\n      alert(\"啟動失敗\");\r\n    }\r\n    this.setState({ starting: false });\r\n  };\r\n\r\n  render() {\r\n    const styles = this.props.is_login || this.props.id.includes(\"test\") ? null : { visibility: \"hidden\" };\r\n    return (\r\n      <div className=\"competition-prepare\">\r\n        <div className=\"id\">\r\n          <span>{this.props.id}</span>\r\n        </div>\r\n        <div className=\"control-bar\">\r\n          <div className=\"user-counter\">\r\n            <i className=\"fa fa-user fa-lg\"></i>\r\n            <span>{Object.keys(this.props.player_list).length}</span>\r\n          </div>\r\n          <button\r\n            className=\"start-button\"\r\n            style={styles}\r\n            onClick={this.startCompetition}\r\n          >\r\n            {this.state.starting ? (\r\n              <i className=\"far fa-circle-notch fa-spin\"></i>\r\n            ) : (\r\n              <span>Start</span>\r\n            )}\r\n          </button>\r\n        </div>\r\n        <div className=\"connection-list\">\r\n          {Object.keys(this.props.player_list).map((player, index) => (\r\n            <div\r\n              key={index}\r\n              className={this.props.is_login ? \"player-item-deletable\" : null}\r\n              onClick={\r\n                this.props.is_login\r\n                  ? (e) => remove_player(this.props.id, player)\r\n                  : null\r\n              }\r\n            >\r\n              <span>{player}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(Competition);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport RoundRobinLayout from \"./Tournament/RoundRobinLayout\";\r\nimport KnockoutLayout from \"./Tournament/KnockoutLayout\";\r\n\r\nclass CompetitionStart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      type: props.type,\r\n    };\r\n  }\r\n\r\n  renderTournament() {\r\n    switch (this.state.type) {\r\n      case \"round-robin\":\r\n        return (\r\n          <RoundRobinLayout\r\n            competition_id={this.props.competition_id}\r\n            is_login={this.props.is_login}\r\n            board_size={this.props.board_size}\r\n            status={this.props.status}\r\n            player_list={this.props.player_list}\r\n            board={this.props.board}\r\n            last_move={this.props.last_move}\r\n            board_end={this.props.board_end}\r\n            time_limit={this.props.time_limit}\r\n            stone_count={this.props.stone_count}\r\n            win_times={this.props.win_times}\r\n            scoreboard={this.props.scoreboard}\r\n            player_color={this.props.player_color}\r\n            history_time={this.props.history_time}\r\n            loadHistory={this.props.loadHistory}\r\n          ></RoundRobinLayout>\r\n        );\r\n      case \"knockout\":\r\n        return (\r\n          <KnockoutLayout\r\n            competition_id={this.props.competition_id}\r\n            is_login={this.props.is_login}\r\n            board_size={this.props.board_size}\r\n            status={this.props.status}\r\n            player_list={this.props.player_list}\r\n            board={this.props.board}\r\n            last_move={this.props.last_move}\r\n            time_limit={this.props.time_limit}\r\n            stone_count={this.props.stone_count}\r\n            win_times={this.props.win_times}\r\n            game_tree={this.props.game_tree}\r\n            player_color={this.props.player_color}\r\n            history_time={this.props.history_time}\r\n            loadHistory={this.props.loadHistory}\r\n          ></KnockoutLayout>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n  render() {\r\n    return <div className=\"competition-start\">{this.renderTournament()}</div>;\r\n  }\r\n}\r\n\r\nexport default hot(module)(CompetitionStart);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport Modal from \"../../ModalComponents/Modal\";\r\nimport Board from \"../Board\";\r\nimport { Flipper, Flipped } from \"react-flip-toolkit\";\r\nimport ScoreboardItem from \"./ScoreboardItem\";\r\nimport { restart_game, assign_winner, download_history } from \"../../api\";\r\nimport WinnerChooserBody from \"../../ModalComponents/WinnerChooserBody\";\r\nimport HistoryButtonFooter from \"../../ModalComponents/HistoryButtonFooter\";\r\n\r\nclass RoundRobinLayout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open_modal: false,\r\n      open_modal_winner_chooser: false,\r\n    };\r\n\r\n    this.modal_player_a = null;\r\n    this.modal_player_b = null;\r\n    this.open_modal = this.open_modal.bind(this);\r\n    this.open_modal_winner_chooser = this.open_modal_winner_chooser.bind(this);\r\n    this.contextMenuHandler = this.contextMenuHandler.bind(this);\r\n  }\r\n\r\n  open_modal(player_a, player_b) {\r\n    this.modal_player_a = player_a;\r\n    this.modal_player_b = player_b;\r\n    this.setState({ open_modal: !this.state.open_modal });\r\n  }\r\n  open_modal_winner_chooser(game_id, player_a, player_b) {\r\n    this.game_id = game_id;\r\n    this.modal_player_a = player_a;\r\n    this.modal_player_b = player_b;\r\n    this.setState({\r\n      open_modal_winner_chooser: !this.state.open_modal_winner_chooser,\r\n    });\r\n  }\r\n\r\n  async contextMenuHandler(e, data, target) {\r\n    if (data.action === \"restart\") {\r\n      try {\r\n        await restart_game(\r\n          this.props.competition_id,\r\n          target.getAttribute(\"game_id\")\r\n        );\r\n      } catch (e) {\r\n        alert(\"重啟失敗\");\r\n      }\r\n    } else if (data.action === \"assign-winner\") {\r\n      this.open_modal_winner_chooser(\r\n        target.getAttribute(\"game_id\"),\r\n        target.getAttribute(\"player_a\"),\r\n        target.getAttribute(\"player_b\")\r\n      );\r\n    }\r\n  }\r\n  doAssignWinner = async (game_id, winner) => {\r\n    try {\r\n      await assign_winner(this.props.competition_id, game_id, winner);\r\n      this.setState({ open_modal_winner_chooser: false });\r\n    } catch (e) {\r\n      alert(\"指派失敗\");\r\n    }\r\n  };\r\n\r\n  downloadHistory = async (competition_id, game_id, filename) => {\r\n    try {\r\n      await download_history(competition_id, game_id, filename);\r\n    } catch (e) {\r\n      alert(\"下載失敗\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"round-robin-layout\">\r\n        <Flipper flipKey={this.props.scoreboard.join(\"\")}>\r\n          <ul className=\"scoreboard\">\r\n            {this.props.scoreboard.map(([order, player, score]) => (\r\n              <Flipped key={player} flipId={player}>\r\n                <li>\r\n                  <ScoreboardItem\r\n                    order={order}\r\n                    id={player}\r\n                    score={score}\r\n                  ></ScoreboardItem>\r\n                </li>\r\n              </Flipped>\r\n            ))}\r\n          </ul>\r\n        </Flipper>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td className=\"table-cell-slash\"></td>\r\n              {Object.keys(this.props.player_list).map((player, index) => (\r\n                <td\r\n                  key={index}\r\n                  className=\"table-freeze-first-row\"\r\n                  style={{ backgroundColor: \"rgb(200,196,191)\" }}\r\n                >\r\n                  {player}\r\n                </td>\r\n              ))}\r\n            </tr>\r\n            {Object.keys(this.props.player_list).map((player_i, index_i) => (\r\n              <tr key={\"i_\" + index_i}>\r\n                <td\r\n                  className=\"table-freeze-first-col\"\r\n                  style={{ backgroundColor: \"rgb(200,196,191)\" }}\r\n                >\r\n                  {player_i}\r\n                </td>\r\n                {Object.keys(this.props.player_list).map((player_j, index_j) =>\r\n                  index_i !== index_j ? (\r\n                    <ContextMenuTrigger\r\n                      key={index_i + \"_\" + index_j}\r\n                      id={\r\n                        (this.props.is_login &&\r\n                          this.props.status !== \"end\" &&\r\n                          this.props.board_end[player_i + \"_\" + player_j] !==\r\n                            undefined) ||\r\n                        (this.props.competition_id.includes(\"test\") &&\r\n                          this.props.board_end[player_i + \"_\" + player_j] !==\r\n                            undefined)\r\n                          ? \"contextmenu\"\r\n                          : \"\"\r\n                      }\r\n                      renderTag={\"td\"}\r\n                      attributes={{\r\n                        onClick: (e) =>\r\n                          this.props.board_end[player_i + \"_\" + player_j] !==\r\n                          undefined\r\n                            ? this.open_modal(player_i, player_j)\r\n                            : null,\r\n                        style: { cursor: \"pointer\" },\r\n                        game_id: `${player_i}_${player_j}`,\r\n                        player_a: player_i,\r\n                        player_b: player_j,\r\n                      }}\r\n                    >\r\n                      {this.props.board_end[player_i + \"_\" + player_j] ===\r\n                      undefined\r\n                        ? \"未開始\"\r\n                        : this.props.board_end[player_i + \"_\" + player_j] ===\r\n                            true || this.props.status === \"end\"\r\n                        ? \"已結束\"\r\n                        : \"(進行中)\"}\r\n                    </ContextMenuTrigger>\r\n                  ) : (\r\n                    <td key={\"j_\" + index_j} className=\"table-cell-slash\"></td>\r\n                  )\r\n                )}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        {this.state.open_modal && (\r\n          <Modal\r\n            title={\"\"}\r\n            model_content={\r\n              <Board\r\n                size={this.props.board_size}\r\n                black={\r\n                  this.props.player_color[\r\n                    `${this.modal_player_a}_${this.modal_player_b}`\r\n                  ] !== undefined\r\n                    ? this.props.player_color[\r\n                        `${this.modal_player_a}_${this.modal_player_b}`\r\n                      ].black\r\n                    : this.modal_player_a\r\n                }\r\n                black_time_limit={\r\n                  this.props.time_limit[\r\n                    `${this.modal_player_a}_${this.modal_player_b}`\r\n                  ].black\r\n                }\r\n                black_stone_count={\r\n                  this.props.stone_count[\r\n                    `${this.modal_player_a}_${this.modal_player_b}`\r\n                  ].black\r\n                }\r\n                black_win_times={\r\n                  this.props.win_times[\r\n                    `${this.modal_player_a}_${this.modal_player_b}`\r\n                  ].black\r\n                }\r\n                white={\r\n                  this.props.player_color[\r\n                    `${this.modal_player_a}_${this.modal_player_b}`\r\n                  ] !== undefined\r\n                    ? this.props.player_color[\r\n                        `${this.modal_player_a}_${this.modal_player_b}`\r\n                      ].white\r\n                    : this.modal_player_b\r\n                }\r\n                white_time_limit={\r\n                  this.props.time_limit[\r\n                    `${this.modal_player_a}_${this.modal_player_b}`\r\n                  ].white\r\n                }\r\n                white_stone_count={\r\n                  this.props.stone_count[\r\n                    `${this.modal_player_a}_${this.modal_player_b}`\r\n                  ].white\r\n                }\r\n                white_win_times={\r\n                  this.props.win_times[\r\n                    `${this.modal_player_a}_${this.modal_player_b}`\r\n                  ].white\r\n                }\r\n                board={\r\n                  this.props.board[\r\n                    this.modal_player_a + \"_\" + this.modal_player_b\r\n                  ]\r\n                }\r\n                last_move={\r\n                  this.props.last_move[\r\n                    this.modal_player_a + \"_\" + this.modal_player_b\r\n                  ]\r\n                }\r\n              ></Board>\r\n            }\r\n            model_footer={\r\n              this.props.status === \"end\" ? (\r\n                <HistoryButtonFooter\r\n                  history_time={this.props.history_time}\r\n                  game_id={this.modal_player_a + \"_\" + this.modal_player_b}\r\n                  loadHistory={this.props.loadHistory}\r\n                ></HistoryButtonFooter>\r\n              ) : (\r\n                <div></div>\r\n              )\r\n            }\r\n            width={\"52%\"}\r\n            margin_top={\"1%\"}\r\n            close={this.open_modal}\r\n            download={this.props.status === \"end\" ? true : false}\r\n            download_cb={(e) =>\r\n              this.downloadHistory(\r\n                this.props.competition_id,\r\n                this.modal_player_a + \"_\" + this.modal_player_b,\r\n                `B-${this.modal_player_a}VSW-${this.modal_player_b}`\r\n              )\r\n            }\r\n          ></Modal>\r\n        )}\r\n        <ContextMenu id=\"contextmenu\">\r\n          <MenuItem\r\n            onClick={this.contextMenuHandler}\r\n            data={{ action: \"restart\" }}\r\n          >\r\n            重新開始\r\n          </MenuItem>\r\n          <MenuItem\r\n            onClick={this.contextMenuHandler}\r\n            data={{ action: \"assign-winner\" }}\r\n          >\r\n            指定贏家\r\n          </MenuItem>\r\n        </ContextMenu>\r\n        {this.state.open_modal_winner_chooser && (\r\n          <Modal\r\n            title={\"選擇贏家\"}\r\n            model_content={\r\n              <WinnerChooserBody\r\n                game_id={this.game_id}\r\n                player_a={this.modal_player_a}\r\n                player_b={this.modal_player_b}\r\n                doAssignWinner={this.doAssignWinner}\r\n              ></WinnerChooserBody>\r\n            }\r\n            model_footer={<div></div>}\r\n            width={\"35%\"}\r\n            margin_top={\"10%\"}\r\n            close={this.open_modal_winner_chooser}\r\n          ></Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(RoundRobinLayout);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nclass ScoreboardItem extends Component {\r\n  render() {\r\n    const {order, id, score} = this.props\r\n    return (\r\n      <div className=\"scoreboard-item\">\r\n        <div className=\"player-id\">{order+\". \"+id}</div>\r\n        <div>Score: {score}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(ScoreboardItem);\r\n","import React, { Component } from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport Modal from \"../../ModalComponents/Modal\";\r\nimport Board from \"../Board\";\r\nimport { restart_game, assign_winner, download_history } from \"../../api\";\r\nimport WinnerChooserBody from \"../../ModalComponents/WinnerChooserBody\";\r\nimport HistoryButtonFooter from \"../../ModalComponents/HistoryButtonFooter\";\r\n\r\nclass KnockoutLayout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open_modal: false,\r\n      open_modal_winner_chooser: false,\r\n    };\r\n    this.modal_player_a = null;\r\n    this.modal_player_b = null;\r\n    this.open_modal = this.open_modal.bind(this);\r\n    this.open_modal_winner_chooser = this.open_modal_winner_chooser.bind(this);\r\n    this.contextMenuHandler = this.contextMenuHandler.bind(this);\r\n\r\n    this.max_length = -1;\r\n    Object.keys(this.props.player_list).forEach(\r\n      (player) => (this.max_length = Math.max(player.length, this.max_length))\r\n    );\r\n    this.tree_unit_size = 25;\r\n    this.tree_font_size = 16;\r\n    this.tree_leaf_counter = 0;\r\n    this.plots = [];\r\n    this.svg_width = 0;\r\n    this.svg_height = 0;\r\n  }\r\n\r\n  open_modal(player_a, player_b) {\r\n    this.modal_player_a = player_a;\r\n    this.modal_player_b = player_b;\r\n    this.setState({ open_modal: !this.state.open_modal });\r\n  }\r\n\r\n  open_modal_winner_chooser(game_id, player_a, player_b) {\r\n    this.game_id = game_id;\r\n    this.modal_player_a = player_a;\r\n    this.modal_player_b = player_b;\r\n    this.setState({\r\n      open_modal_winner_chooser: !this.state.open_modal_winner_chooser,\r\n    });\r\n  }\r\n\r\n  async contextMenuHandler(e, data, target) {\r\n    if (data.action === \"restart\") {\r\n      try {\r\n        await restart_game(\r\n          this.props.competition_id,\r\n          target.getAttribute(\"game_id\")\r\n        );\r\n      } catch (e) {\r\n        alert(\"重啟失敗\");\r\n      }\r\n    } else if (data.action === \"assign-winner\") {\r\n      this.open_modal_winner_chooser(\r\n        target.getAttribute(\"game_id\"),\r\n        target.getAttribute(\"player_a\"),\r\n        target.getAttribute(\"player_b\")\r\n      );\r\n    }\r\n  }\r\n\r\n  doAssignWinner = async (game_id, winner) => {\r\n    try {\r\n      await assign_winner(this.props.competition_id, game_id, winner);\r\n      this.setState({ open_modal_winner_chooser: false });\r\n    } catch (e) {\r\n      alert(\"指派失敗\");\r\n    }\r\n  };\r\n\r\n  build_node(g_x, g_y, player_a, player_b, winner, final_winner) {\r\n    let w = g_x + this.max_length * this.tree_font_size;\r\n    this.svg_width = w > this.svg_width ? w : this.svg_width;\r\n    let h = g_y + this.tree_unit_size * 2;\r\n    this.svg_height = h > this.svg_height ? h : this.svg_height;\r\n    return (\r\n      <ContextMenuTrigger\r\n        id={\r\n          (player_a !== \"\" &&\r\n            player_b !== \"\" &&\r\n            this.props.is_login &&\r\n            this.props.status !== \"end\") ||\r\n          (player_a !== \"\" &&\r\n            player_b !== \"\" &&\r\n            this.props.competition_id.includes(\"test\"))\r\n            ? \"contextmenu\"\r\n            : \"\"\r\n        }\r\n        renderTag={\"g\"}\r\n        attributes={{\r\n          className: \"node\",\r\n          transform: `translate(${g_x}, ${g_y})`,\r\n          onClick: (e) =>\r\n            player_a === \"\" || player_b === \"\"\r\n              ? null\r\n              : this.open_modal(player_a, player_b),\r\n          style:\r\n            player_a === \"\" || player_b === \"\" ? null : { cursor: \"pointer\" },\r\n          game_id: `${player_a}_${player_b}`,\r\n          player_a: player_a,\r\n          player_b: player_b,\r\n        }}\r\n      >\r\n        <rect\r\n          width={this.max_length * this.tree_font_size}\r\n          height={this.tree_unit_size * 2}\r\n          rx=\"5\"\r\n        />\r\n        {winner === player_a ? (\r\n          <rect\r\n            x={this.max_length * this.tree_font_size * 0.0}\r\n            y={this.tree_unit_size * 0.0}\r\n            width={this.max_length * this.tree_font_size * 1.0}\r\n            height={this.tree_unit_size * 1.0}\r\n            style={{ fill: \"gray\", stroke: \"none\" }}\r\n          />\r\n        ) : null}\r\n        {final_winner !== undefined && final_winner === player_a ? (\r\n          <text x={5} y={(this.tree_unit_size * 2 * 2) / 6}>\r\n            {\"👑 \"}\r\n          </text>\r\n        ) : null}\r\n        <text\r\n          x={(this.max_length * (this.tree_font_size / 2)) / 2}\r\n          y={(this.tree_unit_size * 2 * 2) / 6}\r\n        >\r\n          {player_a}\r\n        </text>\r\n        {winner === player_b ? (\r\n          <rect\r\n            x={this.max_length * this.tree_font_size * 0.0}\r\n            y={this.tree_unit_size}\r\n            width={this.max_length * this.tree_font_size * 1.0}\r\n            height={this.tree_unit_size * 1.0}\r\n            style={{ fill: \"gray\", stroke: \"none\" }}\r\n          />\r\n        ) : null}\r\n        <text\r\n          x={(this.max_length * (this.tree_font_size / 2)) / 2}\r\n          y={(this.tree_unit_size * 2 * 5) / 6}\r\n        >\r\n          {player_b}\r\n        </text>\r\n      </ContextMenuTrigger>\r\n    );\r\n  }\r\n\r\n  build_line(froms) {\r\n    let path = null;\r\n    if (froms.length === 1) {\r\n      path = (\r\n        <path\r\n          className=\"link\"\r\n          d={`M${froms[0].x} ${froms[0].y} L${\r\n            froms[0].x + this.tree_unit_size * 2\r\n          } ${froms[0].y}`}\r\n        ></path>\r\n      );\r\n    } else if (froms.length === 2) {\r\n      let center = (froms[0].y + froms[1].y) / 2;\r\n      path = (\r\n        <>\r\n          <path\r\n            className=\"link\"\r\n            d={`  \r\n              M${froms[0].x} ${froms[0].y}\r\n              L${froms[0].x + this.tree_unit_size} ${froms[0].y}\r\n              L${froms[0].x + this.tree_unit_size} ${center}\r\n            `}\r\n          ></path>\r\n          <path\r\n            className=\"link\"\r\n            d={`\r\n            M${froms[1].x} ${froms[1].y}\r\n            L${froms[1].x + this.tree_unit_size} ${froms[1].y}\r\n            L${froms[1].x + this.tree_unit_size} ${center}\r\n            `}\r\n          ></path>\r\n          <path\r\n            className=\"link\"\r\n            d={`\r\n              M${froms[0].x + this.tree_unit_size} ${center}\r\n              L${froms[0].x + this.tree_unit_size * 2} ${center}\r\n            `}\r\n          ></path>\r\n        </>\r\n      );\r\n    }\r\n    this.plots.push(path);\r\n  }\r\n\r\n  traversal(tree_meta, final_winner) {\r\n    if (typeof tree_meta.g[0] !== \"object\") {\r\n      let g_x = 0;\r\n      let g_y =\r\n        this.tree_unit_size + this.tree_leaf_counter * this.tree_unit_size * 3;\r\n      let node = this.build_node(0, g_y, tree_meta.g[0], \"\");\r\n      this.plots.push(node);\r\n      this.tree_leaf_counter += 1;\r\n      return { x: g_x, y: g_y };\r\n    }\r\n    let children = [];\r\n    let is_children_complete = true;\r\n    let win_players = [];\r\n    for (let i = 0; i < tree_meta.g.length; i++) {\r\n      children.push(this.traversal(tree_meta.g[i]));\r\n      if (tree_meta.g[i].w === undefined) {\r\n        is_children_complete = false;\r\n      } else {\r\n        win_players.push(tree_meta.g[i].w);\r\n      }\r\n    }\r\n    if (is_children_complete) {\r\n      let player_a = win_players[0];\r\n      let player_b = win_players[1] === undefined ? \"\" : win_players[1];\r\n      let g_x =\r\n        children[0].x +\r\n        this.max_length * this.tree_font_size +\r\n        this.tree_unit_size * 2;\r\n      let g_y = 0;\r\n      children.forEach((child) => (g_y += child.y));\r\n      g_y /= children.length;\r\n      let winner = player_a !== \"\" && player_b !== \"\" ? tree_meta.w : undefined;\r\n      let node = this.build_node(\r\n        g_x,\r\n        g_y,\r\n        player_a,\r\n        player_b,\r\n        winner,\r\n        final_winner\r\n      );\r\n      this.plots.push(node);\r\n\r\n      let froms = [];\r\n      children.forEach((child) =>\r\n        froms.push({\r\n          x: child.x + this.max_length * this.tree_font_size,\r\n          y: child.y + this.tree_unit_size,\r\n        })\r\n      );\r\n      this.build_line(froms);\r\n      return { x: g_x, y: g_y };\r\n    }\r\n  }\r\n\r\n  renderTree() {\r\n    this.tree_leaf_counter = 0;\r\n    this.plots = [];\r\n    this.svg_height = 0;\r\n    this.svg_width = 0;\r\n    if (this.props.game_tree !== undefined) {\r\n      this.traversal(this.props.game_tree, this.props.game_tree.winner);\r\n    }\r\n  }\r\n\r\n  downloadHistory = async (competition_id, game_id, filename) => {\r\n    try {\r\n      await download_history(competition_id, game_id, filename);\r\n    } catch (e) {\r\n      alert(\"下載失敗\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    this.renderTree();\r\n    return (\r\n      <div className=\"knockout-layout\">\r\n        <svg\r\n          style={{\r\n            height: this.svg_height + this.tree_unit_size,\r\n            width: this.svg_width + this.tree_unit_size,\r\n          }}\r\n        >\r\n          <g>\r\n            {this.plots.map((plot, index) => (\r\n              <KeyedComponent key={index}>{plot}</KeyedComponent>\r\n            ))}\r\n          </g>\r\n        </svg>\r\n        {this.state.open_modal && (\r\n          <Modal\r\n            title={\"\"}\r\n            model_content={\r\n              (this.props.time_limit[\r\n                `${this.modal_player_a}_${this.modal_player_b}`\r\n              ] ===\r\n                undefined) |\r\n              (this.props.stone_count[\r\n                `${this.modal_player_a}_${this.modal_player_b}`\r\n              ] ===\r\n                undefined) |\r\n              (this.props.board[\r\n                `${this.modal_player_a}_${this.modal_player_b}`\r\n              ] ===\r\n                undefined) ? (\r\n                <div>玩家協調中</div>\r\n              ) : (\r\n                <Board\r\n                  size={this.props.board_size}\r\n                  black={\r\n                    this.props.player_color[\r\n                      `${this.modal_player_a}_${this.modal_player_b}`\r\n                    ] !== undefined\r\n                      ? this.props.player_color[\r\n                          `${this.modal_player_a}_${this.modal_player_b}`\r\n                        ].black\r\n                      : this.modal_player_a\r\n                  }\r\n                  black_time_limit={\r\n                    this.props.time_limit[\r\n                      `${this.modal_player_a}_${this.modal_player_b}`\r\n                    ].black\r\n                  }\r\n                  black_stone_count={\r\n                    this.props.stone_count[\r\n                      `${this.modal_player_a}_${this.modal_player_b}`\r\n                    ].black\r\n                  }\r\n                  black_win_times={\r\n                    this.props.win_times[\r\n                      `${this.modal_player_a}_${this.modal_player_b}`\r\n                    ].black\r\n                  }\r\n                  white={\r\n                    this.props.player_color[\r\n                      `${this.modal_player_a}_${this.modal_player_b}`\r\n                    ] !== undefined\r\n                      ? this.props.player_color[\r\n                          `${this.modal_player_a}_${this.modal_player_b}`\r\n                        ].white\r\n                      : this.modal_player_b\r\n                  }\r\n                  white_time_limit={\r\n                    this.props.time_limit[\r\n                      `${this.modal_player_a}_${this.modal_player_b}`\r\n                    ].white\r\n                  }\r\n                  white_stone_count={\r\n                    this.props.stone_count[\r\n                      `${this.modal_player_a}_${this.modal_player_b}`\r\n                    ].white\r\n                  }\r\n                  white_win_times={\r\n                    this.props.win_times[\r\n                      `${this.modal_player_a}_${this.modal_player_b}`\r\n                    ].white\r\n                  }\r\n                  board={\r\n                    this.props.board[\r\n                      this.modal_player_a + \"_\" + this.modal_player_b\r\n                    ]\r\n                  }\r\n                  last_move={\r\n                    this.props.last_move[\r\n                      this.modal_player_a + \"_\" + this.modal_player_b\r\n                    ]\r\n                  }\r\n                ></Board>\r\n              )\r\n            }\r\n            model_footer={\r\n              this.props.status === \"end\" ? (\r\n                <HistoryButtonFooter\r\n                  history_time={this.props.history_time}\r\n                  game_id={this.modal_player_a + \"_\" + this.modal_player_b}\r\n                  loadHistory={this.props.loadHistory}\r\n                ></HistoryButtonFooter>\r\n              ) : (\r\n                <div></div>\r\n              )\r\n            }\r\n            width={\"52%\"}\r\n            margin_top={\"1%\"}\r\n            close={this.open_modal}\r\n            download={this.props.status === \"end\" ? true : false}\r\n            download_cb={(e) =>\r\n              this.downloadHistory(\r\n                this.props.competition_id,\r\n                this.modal_player_a + \"_\" + this.modal_player_b,\r\n                this.modal_player_a + \"_\" + this.modal_player_b\r\n              )\r\n            }\r\n          ></Modal>\r\n        )}\r\n        <ContextMenu id=\"contextmenu\">\r\n          <MenuItem\r\n            onClick={this.contextMenuHandler}\r\n            data={{ action: \"restart\" }}\r\n          >\r\n            重新開始\r\n          </MenuItem>\r\n          <MenuItem\r\n            onClick={this.contextMenuHandler}\r\n            data={{ action: \"assign-winner\" }}\r\n          >\r\n            指定贏家\r\n          </MenuItem>\r\n        </ContextMenu>\r\n        {this.state.open_modal_winner_chooser && (\r\n          <Modal\r\n            title={\"選擇贏家\"}\r\n            model_content={\r\n              <WinnerChooserBody\r\n                game_id={this.game_id}\r\n                player_a={this.modal_player_a}\r\n                player_b={this.modal_player_b}\r\n                doAssignWinner={this.doAssignWinner}\r\n              ></WinnerChooserBody>\r\n            }\r\n            model_footer={<div></div>}\r\n            width={\"35%\"}\r\n            margin_top={\"10%\"}\r\n            close={this.open_modal_winner_chooser}\r\n          ></Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nclass KeyedComponent extends Component {\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default hot(module)(KnockoutLayout);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","var map = {\n\t\"./caasjdlkl.json\": 201\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 200;"],"sourceRoot":""}